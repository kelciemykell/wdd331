(()=>{var e={807:()=>{var e,t=[{name:"trello",reg:"trello.com",container:".js-desc,.js-comment",observeContainer:[".window-overlay"]},{name:"github",reg:"github.com",container:".js-comment-body",observeContainer:["#discussion_bucket"]},{name:"asana",reg:"app.asana.com",container:".TruncatedRichText-richText,#TaskDescription-textEditor",observeContainer:[".SpreadsheetPageStructure-detailsOverlay"]},{name:"jira",reg:"atlassian.net",container:".ak-renderer-document",observeContainer:[".atlaskit-portal-container","div[data-testid='Content']"]},{name:"slack",reg:"app.slack.com",container:".p-rich_text_section,.c-message_attachment__title",observeContainer:[".p-workspace__primary_view"]},{name:"gmail",reg:"mail.google.com",container:"div[role=listitem]",observeContainer:["#\\:1"]}];(e=["expand-link","expand-link-slack","expand-link-trello","expand-link-asana","expand-link-github","expand-link-jira","expand-link-gmail"],new Promise((function(t,n){chrome.runtime.sendMessage({action:"getLocalStorage",what:e},(function(e){t(e)}))}))).then((function(e){if(e["expand-link"]){var n=function(e){for(var n=0;n<t.length;n++)if(new RegExp(t[n].reg).test(e))return t[n];return!1}(window.location.href);if(n&&e["expand-link-"+n.name]){var o=new MutationObserver((function(e){e.forEach((function(e){"childList"!==e.type&&"subtree"!==e.type||$(n.container).find("a").each((function(e,t){if(a=t.href,r=decodeURIComponent(a),/https:\/\/www.awesomescreenshot.com\/video\/(.*)/.test(r)){var o=function(e){e=decodeURIComponent(e),/slack-redir.net/.test(e)&&(e=e.match(/\?url=(.*)$/)[1]);var t=new URL(e),n=t.searchParams.get("key"),o=t.pathname.substr(7);return!(!o||!n)&&{id:o,shareKey:n}}(t.href);if(o&&!$(t).hasClass("aws-expanded")){var i=$(function(e,t){var n="80%";"slack"===t&&(n="40%","25%");"gmail"===t&&(n="50%","30%");return'<div style="width:'+n+';position:relative;max-width:500px; min-width: 400px;"><iframe style="display:inline;position: absolute;top:0;left:0;width:100%;height:100%;" frameBorder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen src="https://www.awesomescreenshot.com/embed?id='+e.id+"&shareKey="+e.shareKey+'"></iframe></div>'}(o,n.name));i.insertBefore($(t)),i.css({height:.7*i.width()}),$(t).addClass("aws-expanded"),$(t).hasClass("c-message_attachment__title_link")&&($(t).parents(".c-message_attachment__body").find(".c-message_attachment__row--has_trigger").remove(),$(t).parents(".c-message_attachment__body").find("a[data-qa=attachment_image]").parents(".c-message_attachment__row").remove(),$(t).remove())}}var a,r}))}))}));n.observeContainer.forEach((function(e){var t,n=((t=e)?document.querySelector(t):null)||document;o.observe(n,{childList:!0,subtree:!0})}))}}}))}},t={};function n(o){var i=t[o];if(void 0!==i)return i.exports;var a=t[o]={exports:{}};return e[o](a,a.exports,n),a.exports}(()=>{"use strict";function e(e,t){chrome.runtime.sendMessage(e,t)}function t(e,t){return e.className.match(new RegExp("(\\s|^)"+t+"(\\s|$)"))}function o(e){document.getElementById(e)&&document.getElementById(e).remove()}function i(e){switch(e){case"www.facebook.com":var n=$("#pagelet_bluebar").find("[role=banner]")[0];null!=n&&function(e,n){if(t(e,n)){var o=new RegExp("(\\s|^)"+n+"(\\s|$)");e.className=e.className.replace(o," ")}}(n,"_50ti");break;case"pinterest.com":var o=document.getElementById("CategoriesBar"),i=document.getElementsByClassName("Nag");null!=i&&0!=i.length&&i[0].style.setProperty("position","absolute","important"),null!=o&&o.style.setProperty("position","absolute","important")}}function a(e){switch(e){case"www.facebook.com":var n=$("#pagelet_bluebar").find("[role=banner]")[0];null!=n&&(t(a=n,r="_50ti")||(a.className+=" "+r));break;case"pinterest.com":var o=document.getElementById("CategoriesBar"),i=document.getElementsByClassName("Nag");null!=i&&0!=i.length&&(i[0].style.position=""),null!=o&&(o.style.position="")}var a,r}function r(){if(o("aws-entire-capture"),s.entireCaptureStyleChange.length>0)for(var e=s.entireCaptureStyleChange.length-1;e>=0;e--)s.entireCaptureStyleChange[e].undo();s.clear(),$("#aws-record-div").remove()}var s={entireCaptureStyleChange:[],add:function(e,t){null!=e&&this.entireCaptureStyleChange.push(new c(e,t))},checkAdd:function(e){var t=!1;for(var n in s.entireCaptureStyleChange)if(n.data&&n.data.element==e){t=!0;break}return t},clear:function(){this.entireCaptureStyleChange=[]}};function l(e){var t="";for(var n in e){t+=n.replace(/([a-zA-Z](?=[A-Z]))/g,"$1-").toLowerCase()+":"+e[n]+" !important;"}return t}function c(e,t){this.type=e,this.data=t,this.exec()}function d(e){if(e){if(/quora.com/.test(window.location.host))return;s.add("addStyle",{id:"aws-entire-capture",css:"html{overflow-x:hidden}"})}else s.add("addStyle",{id:"aws-entire-capture",css:"html::-webkit-scrollbar,body::-webkit-scrollbar, body::-webkit-scrollbar:horizontal, body::-webkit-scrollbar:vertical{width: 0 !important; height: 0 !important}"});var t={position:"relative"};"scroll"===window.getComputedStyle(document.body).overflowY&&(t.overflowY="visible"),s.add("changeCssText",{element:document.documentElement,cssObj:{scrollBehavior:"auto"}}),/coursera.org/.test(window.location.host)&&$(".rc-QuizAttemptHeader").length>0&&$(".rc-QuizAttemptHeader").parents(".c-open-single-page-attempt").length>0||/sohu.com/.test(window.location.host)||/36kr.com/.test(window.location.host)||/quirksmode.org/.test(window.location.host)||/blog.awesomescreenshot.com/.test(window.location.host)||/brightcommodities.co.in/.test(window.location.host)||/facebook.com/.test(window.location.host)||/bjsrestaurants.com/.test(window.location.host)||/office.com/.test(window.location.host)||/quora.com/.test(window.location.host)||/geologycloud.tw/.test(window.location.host)||/charts.bdsradio.com/.test(window.location.host)||/www.frozenright.com/.test(window.location.host)||/ranking.rakuten.co.jp/.test(window.location.host)||s.add("changeCssText",{element:document.body,cssObj:t})}function p(e,t,n){var o="";switch(t){case"success":o='<div class="success-message" style="box-sizing:content-box;padding: 10px 30px;height: 36px;text-align: center;background-color:rgba(0,0,0,.9);;color: white;position: fixed;left: 50%;top: 20px;transform:translateX(-50%);line-height: 36px;font-size:16px;font-weight:bold;border-radius: 4px;z-index: 9999;box-shadow: 0 3px 6px -4px rgba(0,0,0,.12),0 6px 16px 0 rgba(0,0,0,.08),0 9px 28px 8px rgba(0,0,0,.05);">\n    <span class="mes-text">'+e+"</span></div>";break;case"error":o='<div class="error-message" style="width: 300px;height: 40px;text-align: center;background-color: #f5f0e5;color: rgba(238,99,99,0.8);position: fixed;left: 43%;top: 10%;line-height: 40px;border-radius: 5px;;z-index: 9999">\n    <span class="mes-text">'+e+"</span></div>"}$("body").append(o),setTimeout((function(){$("."+t+"-message").remove()}),n)}function m(){return"CSS1Compat"===document.compatMode?document.documentElement.clientHeight:document.body.clientHeight}function u(e){var t=new ClipboardItem({"image/png":e});navigator.clipboard.write([t]).then((function(){p(chrome.i18n.getMessage("capture_btn_copy_tip"),"success",600)}),(function(e){p("Copied failed!","error",600)}))}function h(e){var t;navigator.clipboard&&e?"image/jpeg"===e.type?(t=e,new Promise((function(e,n){var o=window.URL.createObjectURL(t),i=document.createElement("img"),a=document.createElement("canvas"),r=a.getContext("2d");i.onload=function(){a.width=i.width,a.height=i.height,r.drawImage(i,0,0),a.toBlob((function(t){e(t)}))},i.src=o}))).then((function(e){u(e)})):u(e):p("Copied failed!","error",600)}function b(){return!!document.getElementById("webkit-xml-viewer-source-xml")&&(alert("Extension cannot run on this page because it contains XML files."),!0)}function g(e){return e.replace(/\$i18n\{([^}]+)}/g,(function(e,t){return chrome.i18n.getMessage(t)}))}c.prototype={constructor:c,exec:function(){try{"changeCssText"===this.type?(this.cssTextBefore=this.data.element.style.cssText,this.data.element.style.cssText=this.cssTextBefore+";"+l(this.data.cssObj)):"addStyle"===this.type?(e=this.data.id,t=this.data.css,n=document.head,(o=document.createElement("style")).setAttribute("type","text/css"),o.setAttribute("id",e),o.appendChild(document.createTextNode(t)),n.appendChild(o)):"changeAttr"===this.type&&(this.attrValueBefore=this.data.element[this.data.attrName],this.data.element[this.data.attrName]=this.data.attrValue)}catch(e){}var e,t,n,o},undo:function(){try{"changeCssText"===this.type?this.data.element.style.cssText=this.cssTextBefore:"addStyle"===this.type?o(this.data.id):"changeAttr"===this.type&&(this.data.element[this.data.attrName]=this.attrValueBefore)}catch(e){}}};var f,w,x,v,_,y,k,C,T,E=null,S={},z=!1,M=!1,P=!1,R=0,L="ontouchend"in document,I={drawStyle:{},updateStyle:function(e){this.drawStyle=e}},H=["windows-cursor","cursor","cursor-hand","cursor-hand-black","cursor-click","smile","cry","tick-off","cross","forbidden","warning","q-mark","like","heart","star","chicken","dog","rain","sun","cloud","thunder","fish","fish2","tree1","tree2","building1","building2","package","tent","umbrella","car","basketball","beer"],N=["callout","list","list","image","insertImage"],W={red:"#ff0000",blue:"#4887e8",green:"#00ff00",yellow:"#f1c231",gray:"#666666",white:"#ffffff"},A={personType:0,loginStatus:!1,iframeMark:"",autoOnline:!1,iframeStatus:!1,setupStatus:!1,temImage:{},resetStatus:function(){this.temImage=null,this.iframeStatus=!1,this.setupStatus=!1},holdTemImage:function(e){e&&(this.temImage=e)},updateAutoOnline:function(e){this.autoOnline=e},updateIframeMask:function(e){this.iframeMark=e},updateType:function(e){this.personType=e,U()},updateStatus:function(e){this.loginStatus=e,e?le(!1,!0):C&&$(C).css("display","block")},captureSelectAction:function(t,n){!function(t,n){var o="save";n?(t&&(o="copy"),$(k).find("#awesome_screenshot_capture").addClass("no-after")):o="annotate";if(z)D(o),e({action:"currentTab"});else{z=!0;var r=f.querySelector("#awesome_screenshot_center");Q(f.querySelector("#awesome_screenshot_size"),"display","none"),i(document.location.hostname);try{w.deselect(r)}catch(e){}w.enabled=!1,Q(r,"outline","none"),/schoology.com/.test(window.location.host);var s=document.documentElement,l=document.scrollingElement.scrollTop,c=(document.scrollingElement.scrollLeft,m()),p=s.clientWidth,u=w.elmX,h=w.elmY,b=w.elmW,g=w.elmH;g>c&&(Oe(!1,!0),d());var x=u-document.scrollingElement.scrollLeft,v=h-document.scrollingElement.scrollTop;if(h<l&&g>c?(x<=0&&(document.scrollingElement.scrollLeft=u),v<=0?document.scrollingElement.scrollTop=h:(f.style.paddingTop=v+"px",document.scrollingElement.scrollTop+=v)):h<l&&(document.scrollingElement.scrollTop=h,v=0,l=h),be(),K(u,h,b,g),a(document.location.hostname),fe(!0),h<l){if(b<=p&&g<=c)return void setTimeout(e,300,{action:"visible",counter:1,ratio:g%c/c,scrollBar:{x:!1,y:!1},centerW:(b<=0?1:b)*window.devicePixelRatio,centerH:(g<=0?1:g)*window.devicePixelRatio,menuType:"selected",userAction:o});var _=A.getCenterPosition();setTimeout(e,300,{action:"scroll_next_done",menuType:"selected",data:{x:_.left*window.devicePixelRatio,y:_.top*window.devicePixelRatio},centerW:_.width*window.devicePixelRatio,centerH:_.height*window.devicePixelRatios,userAction:o,isFirstScroll:!0,windowHeight:window.innerHeight*window.devicePixelRatio})}else setTimeout((function(){e({action:"capture_selected_done",data:{x:x*window.devicePixelRatio,y:v*window.devicePixelRatio,w:(b<=1?1:b)*window.devicePixelRatio,h:(g<=1?1:g)*window.devicePixelRatio},userAction:o})}),100)}}(t,n)},getSetupStatus:function(){return this.setupStatus},getIframeSatus:function(){return this.iframeStatus},getCenterPosition:function(){var e=f.querySelector("#awesome_screenshot_center"),t=ee(e,"left");return{top:ee(e,"top"),left:t,width:ee(e,"width"),height:ee(e,"height")}}},O={drawFrameInsert:!1,shape:"",style:{},updateFrameStatus:function(e){this.drawFrameInsert=e,this.shape&&this.shape.length>0&&e?this.postMessage(!1):e?this.updateCurentStyle("curve",S.curve,1):e||(this.drawFrameInsert=!1,this.shape="",this.style={})},postMessage:function(e){if(this.drawFrameInsert){var t=N.indexOf(this.shape);0==A.personType&&t>=0&&(U(),$("#screenshot_iframe").css("z-index",2147483631)),e||D("premiumPlan",!(A.personType>0)),$("#screenshot_iframe")[0].contentWindow.postMessage({type:"drawAction",data:{type:"style",shape:this.shape,style:this.style,changeType:e}},"*")}},updateCurentStyle:function(e,t,n){if(this.shape=e,t){if(t.width)switch(t.width){case"small":this.style.width="text"==e||"callout"==e?22:2;break;case"middle":this.style.width="text"==e||"callout"==e?32:4;break;case"big":this.style.width="text"==e||"callout"==e?48:8;break;default:this.style.width="text"==e||"callout"==e?22:2}else this.style.width="text"==e||"callout"==e?32:4;t.color?this.style.color=W[t.color]:this.style.color=W.red}"insertImage"!=e&&"image"!=e||(this.style=t||{}),this.postMessage(n)}};function j(t){if(e({action:"getPersonType"}),!document.querySelector("#as_select_wrapper")&&!b()){A.setupStatus=!0,P=!1;var n='/*************************************/\n/*********** Veriables ***************/\n/*************************************/\n/*************************************/\n/************** Mixins ***************/\n/*************************************/\n/*************************************/\n/*************** Antd ****************/\n/*************************************/\n.ant-select-arrow {\n  color: rgba(0, 0, 0, 0.5);\n  font-size: 13px;\n}\n.unselectable {\n  -webkit-user-select: none;\n}\n#awesome_screenshot_wrapper {\n  display: none;\n  position: absolute;\n  top: 0;\n  left: 0;\n  z-index: 21474836;\n  /* MAX:2147483647 */\n  cursor: crosshair;\n  background-color: rgba(0, 0, 0, 0.3);\n  font: normal normal normal 12px/1 Helvetica, arial, sans-serif;\n  box-sizing: content-box !important;\n}\n#awesome_screenshot_wrapper * {\n  box-sizing: border-box !important;\n}\n#awesome_screenshot_wrapper > div {\n  position: absolute;\n  background-color: rgba(0, 0, 0, 0.3);\n  cursor: auto;\n}\n#awesome_screenshot_top {\n  top: 0;\n  left: 0;\n}\n#awesome_screenshot_right {\n  top: 0;\n  right: 0;\n}\n#awesome_screenshot_bottom {\n  right: 0;\n  bottom: 0;\n}\n#awesome_screenshot_left {\n  bottom: 0;\n  left: 0;\n}\ndiv#awesome_screenshot_center {\n  cursor: move;\n  outline: 1px dashed #000;\n  background-color: rgba(0, 0, 0, 0);\n}\n.dragresize {\n  display: block !important;\n  position: absolute !important;\n  z-index: 999 !important;\n  width: 9px !important;\n  height: 9px !important;\n  background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJCAYAAADgkQYQAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAIxJREFUeNqMUDEOgCAMrA58CFZX3uDIU/iBX3D0DawkTCS8xhBYao84aOLgJZdy10sLTMxMgDHGSVmFizAKj5zzPpoIaa037z2nlLjWOio0/DFEDg5Ga42fgL6DbsYKay0ppegJaPjjCpI8seIL8NHHpFhKoS/cfkToCCFQ7/0VgIaP/q/XTX/+6RJgAEc6j4dkIiynAAAAAElFTkSuQmCC);\n  background-position: center center !important;\n  background-repeat: no-repeat !important;\n  font-size: 0.1px !important;\n}\n.dragresize-tl {\n  top: -5px;\n  left: -5px;\n  cursor: nw-resize;\n}\n.dragresize-tm {\n  top: -5px;\n  width: 100% !important;\n  cursor: n-resize;\n}\n.dragresize-tr {\n  top: -5px;\n  right: -5px;\n  cursor: ne-resize;\n}\n.dragresize-ml {\n  left: -5px;\n  height: 100% !important;\n  cursor: w-resize;\n}\n.dragresize-mr {\n  right: -5px;\n  height: 100% !important;\n  cursor: e-resize;\n}\n.dragresize-bl {\n  left: -5px;\n  bottom: -5px;\n  cursor: sw-resize;\n}\n.dragresize-bm {\n  bottom: -5px;\n  width: 100% !important;\n  cursor: s-resize;\n}\n.dragresize-br {\n  right: -5px;\n  bottom: -5px;\n  cursor: se-resize;\n}\n#awesome_screenshot_size {\n  display: none;\n  position: absolute;\n  top: -30px;\n  left: 0;\n}\n#awesome_screenshot_size span {\n  padding: 2px 10px;\n  border-radius: 10px;\n  background-color: rgba(0, 0, 0, 0.7);\n  color: #eee;\n  text-align: center;\n  line-height: 20px;\n}\n#awesome_screenshot_action {\n  display: none;\n  position: absolute;\n  right: 0;\n  background-color: #32343e;\n  z-index: 2147483630;\n  text-align: center;\n  overflow: hidden;\n  border-radius: 2px;\n  height: 38px;\n  font-size: 16px !important;\n  box-shadow: 0px 2px 4px 0px rgba(0, 0, 0, 0.9);\n}\n#awesome_screenshot_action .awesome_action_btn {\n  display: inline-block;\n  line-height: 38px;\n  height: 38px;\n  background: #32343e;\n  color: white;\n  font-size: 14px;\n  font-weight: 400;\n  font-family: PingFang SC;\n  padding-left: 18px;\n  padding-right: 18px;\n  text-decoration: none !important;\n  cursor: pointer;\n}\n#awesome_screenshot_action .awesome_action_btn.cancel span {\n  display: none;\n  position: relative;\n  width: 14px;\n  height: 1px;\n  background-color: white;\n  transform: rotate(45deg);\n  border-radius: 0.5px;\n  left: -4.5px;\n  bottom: 4.5px;\n}\n#awesome_screenshot_action .awesome_action_btn.cancel span:after {\n  display: block;\n  content: "";\n  position: absolute;\n  width: 14px;\n  height: 1px;\n  background-color: white;\n  transform: rotate(90deg);\n  border-radius: 0.5px;\n}\n#awesome_screenshot_action .awesome_action_btn.copy span {\n  display: inline-block;\n  position: relative;\n  width: 16px;\n  height: 16px;\n  left: -3px;\n  bottom: -3px;\n  background-size: 16px 16px;\n}\n#awesome_screenshot_action .awesome_action_btn:active {\n  background-color: #191a1e;\n}\n.tooltip {\n  position: relative;\n}\n.tooltip::after {\n  content: attr(aria-label);\n  background: rgba(0, 0, 0, 0.6);\n  color: #fff;\n  padding: 4px 6px;\n  font-size: 12px;\n  line-height: 12px;\n  white-space: nowrap;\n  border-radius: 2px;\n  /* box-shadow: 4px 4px 8px rgba(0, 0, 0, 0.3); */\n  bottom: calc(100% + 5px);\n  left: 50%;\n  position: absolute;\n  visibility: hidden;\n  opacity: 0;\n  z-index: 1000000;\n  pointer-events: none;\n  transition: 0.2s ease;\n  transition-delay: 0s;\n  transform: translate3d(-50%, 0, 0);\n}\n.tooltip.tooltip-bottom::after {\n  height: 12px;\n  top: 24px;\n  transition-delay: 0.6s;\n}\n.tooltip-bottom.no-after::after {\n  display: none;\n}\n.tooltip.tooltip-right::after {\n  right: auto;\n  left: 0;\n  transform: translate3d(0, 0, 0);\n}\n.tooltip:hover::after {\n  visibility: visible;\n  opacity: 1;\n}\n.tooltip.delay:hover::after {\n  transition-delay: 0.3s;\n}\n.border-style {\n  display: none;\n  background-color: #5794ff;\n  position: fixed;\n  z-index: 2147483621;\n}\n.border-style.top {\n  top: 0px;\n  left: 0px;\n  right: 0px;\n  height: 5px;\n}\n.border-style.left {\n  top: 0px;\n  left: 0px;\n  bottom: 0px;\n  width: 5px;\n}\n.border-style.right {\n  top: 0px;\n  right: 0px;\n  bottom: 0px;\n  width: 5px;\n}\n.border-style.bottom {\n  bottom: 0px;\n  left: 0px;\n  right: 0px;\n  height: 5px;\n}\n.annotate_toolbar {\n  display: none;\n  position: absolute;\n  right: -44px;\n  width: 62px;\n  padding: 1px;\n  font-size: 16px;\n  font-family: sans-serif;\n  background-color: #32343e;\n  border-radius: 2px;\n  box-shadow: 0px 2px 4px 0px rgba(0, 0, 0, 0.9);\n  z-index: 2147483630;\n  box-sizing: border-box !important;\n  cursor: pointer;\n}\n.annotate_toolbar .file-input {\n  display: none;\n}\n.annotate_toolbar .svg-panel {\n  display: none;\n  position: absolute;\n  background-color: white;\n  border-radius: 4px;\n  width: 180px !important;\n  height: 177px;\n  top: 0px;\n  overflow-y: scroll;\n  line-height: 48px;\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.25);\n}\n.annotate_toolbar .svg-panel.right {\n  left: 64px;\n}\n.annotate_toolbar .svg-panel.left {\n  right: 64px;\n}\n.annotate_toolbar .svg-panel .image-item {\n  width: 48px;\n  height: 48px;\n  background: white;\n  display: inline-block;\n  text-align: center;\n  cursor: pointer;\n  margin: 0 3px 6px 3px;\n}\n.annotate_toolbar .svg-panel .image-item:hover {\n  background: #e0ecff;\n}\n.annotate_toolbar .svg-panel .image-item img {\n  width: 44px;\n  height: 44px;\n  vertical-align: middle;\n}\n.annotate_toolbar .color_panel {\n  display: none;\n  width: 40px;\n  height: 200px;\n  top: 0px;\n  position: absolute;\n  background-color: #191a1e;\n  border-radius: 2px;\n  padding-top: 10px;\n  box-sizing: border-box;\n}\n.annotate_toolbar .color_panel.only_color {\n  height: 124px;\n}\n.annotate_toolbar .color_panel.left {\n  right: -46px;\n}\n.annotate_toolbar .color_panel.left .trangle {\n  left: -6px;\n  border-top: 6px solid transparent;\n  border-right: 6px solid #191a1e;\n  border-bottom: 6px solid transparent;\n}\n.annotate_toolbar .color_panel.right {\n  right: 66px;\n}\n.annotate_toolbar .color_panel.right .trangle {\n  left: 38px;\n  border-top: 6px solid transparent;\n  border-bottom: 6px solid transparent;\n  border-left: 6px solid #191a1e;\n}\n.annotate_toolbar .color_panel .trangle {\n  position: absolute;\n  top: 10px;\n  width: 8px;\n  height: 8px;\n  box-sizing: border-box !important;\n}\n.annotate_toolbar .color_panel .colors {\n  width: 14px;\n  margin-left: auto;\n  margin-right: auto;\n  text-align: center;\n}\n.annotate_toolbar .color_panel .colors .width_cell {\n  margin-bottom: 10px;\n  margin-left: auto;\n  margin-right: auto;\n  width: 14px;\n  height: 14px;\n  display: block;\n}\n.annotate_toolbar .color_panel .colors .width_cell.text .font {\n  display: block !important;\n}\n.annotate_toolbar .color_panel .colors .width_cell.hidden {\n  display: none;\n}\n.annotate_toolbar .color_panel .colors .width_cell .font {\n  display: none;\n  color: #6e6e6e;\n  line-height: 14px;\n  pointer-events: none;\n  margin-left: auto;\n  margin-right: auto;\n  position: relative;\n  top: 50%;\n  transform: translateY(-50%);\n  font-style: normal;\n  font-family: sans-serif;\n}\n.annotate_toolbar .color_panel .colors .width_cell .font.small {\n  font-size: 10px;\n}\n.annotate_toolbar .color_panel .colors .width_cell .font.middle {\n  font-size: 14px;\n}\n.annotate_toolbar .color_panel .colors .width_cell .font.big {\n  font-size: 18px;\n}\n.annotate_toolbar .color_panel .colors .width_cell .font.selected {\n  color: white;\n}\n.annotate_toolbar .color_panel .colors .width_cell.shape .dot {\n  display: block !important;\n}\n.annotate_toolbar .color_panel .colors .width_cell .dot {\n  display: none;\n  border-radius: 50%;\n  pointer-events: none;\n  background-color: #6e6e6e;\n  margin-left: auto;\n  margin-right: auto;\n  position: relative;\n  top: 50%;\n  transform: translateY(-50%);\n}\n.annotate_toolbar .color_panel .colors .width_cell .dot.small {\n  width: 4px;\n  height: 4px;\n}\n.annotate_toolbar .color_panel .colors .width_cell .dot.middle {\n  width: 8px;\n  height: 8px;\n}\n.annotate_toolbar .color_panel .colors .width_cell .dot.big {\n  width: 12px;\n  height: 12px;\n}\n.annotate_toolbar .color_panel .colors .width_cell .dot.selected {\n  background-color: white;\n  color: white;\n}\n.annotate_toolbar .color_panel .colors .color_cell {\n  width: 14px;\n  height: 14px;\n  border-radius: 1px;\n  margin-bottom: 4px;\n  box-sizing: border-box !important;\n}\n.annotate_toolbar .color_panel .colors .color_cell.selected {\n  border: 1px solid white;\n}\n.annotate_toolbar .color_panel .colors .color_cell:active {\n  border: 1px solid white;\n}\n.annotate_toolbar .color_panel .colors .color_cell.red {\n  background-color: #ff0000;\n}\n.annotate_toolbar .color_panel .colors .color_cell.blue {\n  background-color: #4887e8;\n}\n.annotate_toolbar .color_panel .colors .color_cell.green {\n  background-color: #00ff00;\n}\n.annotate_toolbar .color_panel .colors .color_cell.yellow {\n  background-color: #f1c231;\n}\n.annotate_toolbar .color_panel .colors .color_cell.gray {\n  background-color: #666666;\n}\n.annotate_toolbar .color_panel .colors .color_cell.white {\n  background-color: #ffffff;\n}\n.annotate_toolbar .action_area {\n  display: block;\n  padding: 2px 5px;\n}\n.annotate_toolbar .action_area .awesome_action_btn {\n  display: inline-block;\n  width: 50px;\n  height: 22px;\n  margin: 3px 0px;\n  color: white;\n  border-radius: 2px;\n  font-size: 13px;\n  text-align: center;\n  line-height: 22px;\n  background-color: #505362;\n}\n.annotate_toolbar .action_area .awesome_action_btn:hover {\n  background-color: #3c3f4b;\n}\n.annotate_toolbar .action_area .awesome_action_btn:active {\n  background-color: #191a1e;\n}\n.annotate_toolbar .action_area .awesome_action_btn.save {\n  background-color: #5794ff;\n}\n.annotate_toolbar .action_area .awesome_action_btn.save:hover {\n  background-color: #1f64dd;\n}\n.annotate_toolbar .action_area .awesome_action_btn.save:active {\n  background-color: #1f64dd;\n}\n.annotate_toolbar .shapes_area {\n  display: flex;\n  flex-direction: column;\n  flex-wrap: wrap;\n  height: 192px;\n  position: relative;\n}\n.annotate_toolbar .shapes_area .sep_line {\n  width: 46px;\n  height: 1px;\n  background-color: #d8d8d8;\n  position: absolute;\n  bottom: 30px;\n  left: 8px;\n  opacity: 0.26;\n}\n.annotate_toolbar .toolbar_item {\n  text-align: center;\n  position: relative;\n  display: inline-block;\n  margin: 4px 3px;\n  padding: 4px;\n  border-radius: 2px;\n}\n.annotate_toolbar .toolbar_item.action_item {\n  margin-top: 5px;\n  margin-bottom: 3px;\n}\n.annotate_toolbar .toolbar_item:hover {\n  background-color: #25272e;\n}\n.annotate_toolbar .toolbar_item:active {\n  background-color: #191a1e;\n}\n.annotate_toolbar .toolbar_item.selected {\n  background-color: #191a1e;\n}\n.annotate_toolbar .toolbar_item.isfree {\n  filter: brightness(0.6);\n}\n.annotate_toolbar .toolbar_item.disable {\n  pointer-events: none;\n  filter: brightness(0.6);\n}\n.annotate_toolbar .toolbar_item .toolbtn {\n  /* background-color: green; */\n  position: relative;\n  height: 16px;\n  width: 16px;\n  pointer-events: none;\n  background-size: 496px auto;\n  background-image: url(chrome-extension://__MSG_@@extension_id__/images/annotate_icons.png);\n}\n@media only screen and (-webkit-min-device-pixel-ratio: 1.5), only screen and (-moz-min-device-pixel-ratio: 1.5), only screen and (-o-min-device-pixel-ratio: 3/2), only screen and (min-device-pixel-ratio: 1.5) {\n  .annotate_toolbar .toolbar_item .toolbtn {\n    background-image: url(chrome-extension://__MSG_@@extension_id__/images/annotate_icons@2x.png);\n  }\n}\n.annotate_toolbar .toolbar_item .toolbtn.rect {\n  background-position: 0 0;\n}\n.annotate_toolbar .toolbar_item .toolbtn.ellipse {\n  background-position: -16px 0;\n}\n.annotate_toolbar .toolbar_item .toolbtn.line_arrow {\n  background-position: -32px 0;\n}\n.annotate_toolbar .toolbar_item .toolbtn.curve {\n  background-position: -48px 0;\n}\n.annotate_toolbar .toolbar_item .toolbtn.rect_blur {\n  background-position: -64px 0;\n}\n.annotate_toolbar .toolbar_item .toolbtn.text {\n  background-position: -80px 0;\n}\n.annotate_toolbar .toolbar_item .toolbtn.callout {\n  background-position: -304px 0;\n}\n.annotate_toolbar .toolbar_item .toolbtn.list {\n  background-position: -320px 0;\n}\n.annotate_toolbar .toolbar_item .toolbtn.image {\n  background-position: -336px 0;\n}\n.annotate_toolbar .toolbar_item .toolbtn.insertImage {\n  background-position: -352px 0;\n}\n.annotate_toolbar .toolbar_item .toolbtn.clear-all {\n  background-position: -416px 0;\n}\n.annotate_toolbar .toolbar_item .toolbtn.undobtn {\n  background-position: -96px 0;\n}\n.content-sign {\n  display: none;\n  position: fixed;\n  left: 0;\n  right: 0;\n  top: 0;\n  bottom: 0;\n  background-color: rgba(0, 0, 0, 0.4);\n  text-align: center;\n  font-size: 14px;\n  z-index: 2147483632;\n}\n.content-sign .center-block {\n  text-align: left;\n  position: absolute;\n  left: 50%;\n  top: 50%;\n  width: 244px;\n  padding: 22px;\n  background-color: white;\n  box-shadow: 0px 6px 12px 0px rgba(0, 0, 0, 0.18);\n  border-radius: 4px;\n  transform: translate3d(-50%, -50%, 0);\n}\n.content-sign .center-block .close {\n  position: absolute;\n  right: 8px;\n  top: 2px;\n  font-size: 24px;\n  color: #979797;\n  transform: rotate(45deg);\n  cursor: pointer;\n}\n.content-sign .center-block p {\n  font-size: 14px;\n  line-height: 24px;\n  margin-top: 0;\n}\n.content-sign .center-block .popup-btn-primary {\n  text-align: center;\n  border: 1px solid #666;\n  border-radius: 4px;\n  line-height: 40px;\n  font-size: 15px;\n  margin-top: 10px;\n  cursor: pointer;\n  border-color: #5794ff;\n  background-color: #5794ff;\n  color: white;\n}\n/******************notification******************/\n#asNotifyBox {\n  border-radius: 3px;\n  box-shadow: 0 1px 5px rgba(0, 0, 0, 0.3);\n  border: solid 1px #fff;\n  background-image: -webkit-linear-gradient(top, #f9f9f9, #f5f5f5);\n  position: fixed;\n  top: 5px;\n  right: 5px;\n  z-index: 1000000;\n  padding: 10px;\n  width: 280px;\n  -webkit-animation: fadeIn 300ms ease;\n}\n#asNotifyBox img {\n  display: inline-block;\n  vertical-align: middle;\n  margin-right: 8px;\n}\n#as-notifyMessage {\n  font: normal 12px/14px arial, Helvetica;\n  white-space: normal;\n  word-break: break-all;\n  display: inline-block;\n  width: 230px;\n  vertical-align: middle;\n}\n#as-notifyClose {\n  position: absolute;\n  right: 3px;\n  top: 3px;\n  height: 12px;\n  width: 12px;\n  background-image: url("chrome-extension://__MSG_@@extension_id__/images/clear.png");\n  opacity: 0.3;\n  cursor: pointer;\n}\n#as-notifyClose:hover {\n  opacity: 0.5;\n}\n@-webkit-keyframes fadeIn {\n  0% {\n    opacity: 0;\n  }\n  100% {\n    opacity: 1;\n  }\n}\n/***********Admanage**********/\n#sa-admanage-box {\n  margin: 0px -28px 11px 0px;\n  padding: 2px 8px 6px 8px;\n  background-color: #fff7ed;\n}\n#sa-admanage-box ol {\n  margin-top: -14px;\n}\n#sa-admanage-box h2 span {\n  font-size: 10px;\n  text-align: left;\n  color: #767676;\n  font-weight: normal;\n}\n#sa-admanage-box h2 {\n  margin: 0px;\n  text-align: right;\n  line-height: 10px;\n}\n#sa-admanage-box li {\n  margin: 20px 8px 0 0;\n  max-width: 440px;\n}\n/***************** delay div *******************/\n#awe_delay_div {\n  box-sizing: content-box !important;\n  height: 90px !important;\n  width: 120px !important;\n  text-align: center !important;\n  background-color: rgba(0, 0, 0, 0.7) !important;\n  font-size: 72px !important;\n  font-weight: bold !important;\n  position: fixed !important;\n  right: 20px !important;\n  top: 20px;\n  z-index: 1000000 !important;\n  line-height: 100px !important;\n  color: white !important;\n  border-top-left-radius: 3px !important;\n  border-top-right-radius: 3px !important;\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.15) !important;\n  border-bottom: 1px solid rgba(255, 255, 255, 0.3) !important;\n  font-family: Arial !important;\n}\n#awe_delay_div.countdown {\n  left: 0 !important;\n  right: 0 !important;\n  top: 0 !important;\n  bottom: 0 !important;\n  margin: auto !important;\n  background-color: rgba(0, 0, 0, 0.8) !important;\n}\n#awe_delay_div.countdown #awe_delay_cancel {\n  background-color: rgba(0, 0, 0, 0.8) !important;\n}\n#awe_delay_cancel {\n  width: 120px !important;\n  height: 30px !important;\n  line-height: 30px !important;\n  font-size: 14px !important;\n  font-weight: normal !important;\n  position: absolute !important;\n  bottom: -31px !important;\n  background-color: rgba(0, 0, 0, 0.7) !important;\n  cursor: pointer !important;\n  border-bottom-left-radius: 3px !important;\n  border-bottom-right-radius: 3px !important;\n}\n#awe_delay_cancel:hover {\n  background-color: rgba(0, 0, 0, 0.8) !important;\n}\n#aws-record-div {\n  height: 1px !important;\n  width: 1px !important;\n  position: fixed !important;\n  left: 0 !important;\n  top: 0 !important;\n  background-color: rgba(0, 0, 0, 0.2) !important;\n  animation: fadeIn 1000ms infinite !important;\n}\n',o=chrome.runtime.getURL("");n=n.replace(/chrome-extension:\/\/__MSG_@@extension_id__\//g,o),(E=document.createElement("div")).id="as_select_wrapper";var i=E.attachShadow({mode:"open"}),a=document.createElement("style");a.innerHTML=n,i.appendChild(a),$(g('<div id="awesome_screenshot_wrapper"><div id="awesome_screenshot_top"></div><div id="awesome_screenshot_right"></div><div id="awesome_screenshot_bottom"></div><div id="awesome_screenshot_left"></div><div id="awesome_screenshot_center" class="drsElement drsMoveHandle"><div id="awesome_screenshot_size" style="min-width: 70px;"><span>0 X 0</span></div></div></div><div id="sign_view" class="content-sign"><div class="center-block"><div class="close" id="close">+</div><p class="content">Saving image to Cloud is selected in your extension menu and therefore sign-in is required.</p><div class="btn-area"><div class="popup-btn-primary" id="popup-sign-in-btn">Sign in now</div></div></div></div><div class="border-style top"></div><div class="border-style left"></div><div class="border-style right"></div><div class="border-style bottom"></div>\x3c!-- <div id="awesome_screenshot_action">\n  <a id="awesome_screenshot_cancel" class="awesome_action_btn cancel"\n    ></span>$i18n{capture_btn_cancel}</a\n  ><a id="awesome_screenshot_copy" class="awesome_action_btn copy"\n    >$i18n{capture_btn_copy}</a\n  ><a id="awesome_screenshot_capture" class="awesome_action_btn"\n    >$i18n{capture_btn_capture}</a\n  >\n</div> --\x3e<div id="screenshot_annotate" class="annotate_toolbar"><input id="file_input" type="file" class="file-input" accept=".jpg,.png,.jpeg"><div id="shapes_area" class="shapes_area"><div id="awesome_rect_btn" class="toolbar_item tooltip tooltip-right" aria-label="$i18n{vtoolbar_rect_btn}"><div class="toolbtn rect"></div></div><div id="awesome_round_btn" class="toolbar_item tooltip tooltip-right" aria-label="$i18n{vtoolbar_ellipse_btn}"><div class="toolbtn ellipse"></div></div><div id="awesome_arrow_btn" class="toolbar_item tooltip tooltip-right" aria-label="$i18n{vtoolbar_arrow_btn}"><div class="toolbtn line_arrow"></div></div><div id="awesome_freeline_btn" class="toolbar_item tooltip tooltip-right" aria-label="$i18n{vtoolbar_pen_btn}"><div class="toolbtn curve"></div></div><div id="awesome_blur_btn" class="toolbar_item tooltip tooltip-right" aria-label="$i18n{vtoolbar_blur_btn}"><div class="toolbtn rect_blur"></div></div><div id="awesome_undo_btn" aria-label="$i18n{vtoolbar_undo_btn}" class="toolbar_item action_item tooltip tooltip-right disable"><div class="toolbtn undobtn"></div></div><div id="awesome_text_btn" class="toolbar_item tooltip tooltip-right" aria-label="$i18n{vtoolbar_text_btn}"><div class="toolbtn text"></div></div><div id="awesome_callout_btn" class="toolbar_item tooltip tooltip-right premium" aria-label="$i18n{vtoolbar_callout_btn}"><div class="toolbtn callout"></div></div><div id="awesome_step_btn" class="toolbar_item tooltip tooltip-right premium" aria-label="$i18n{vtoolbar_step_btn}"><div class="toolbtn list"></div></div><div id="awesome_image_btn" class="toolbar_item tooltip tooltip-right premium" aria-label="$i18n{vtoolbar_emoji_btn}"><div class="toolbtn image"></div></div><div id="awesome_image_local_btn" class="toolbar_item tooltip tooltip-right premium" aria-label="$i18n{vtoolbar_image_btn}"><div class="toolbtn insertImage"></div></div><div class="sep_line"></div><div id="awesome_clear_btn" class="toolbar_item action_item tooltip tooltip-right disable" aria-label="$i18n{vtoolbar_clear_btn}"><div class="toolbtn clear-all icon-text"></div></div></div><div class="action_area"><a id="awesome_screenshot_copy" class="awesome_action_btn copy">$i18n{capture_btn_copy}</a> <a id="awesome_screenshot_cancel" class="awesome_action_btn cancel">$i18n{capture_btn_cancel}</a> <a id="awesome_screenshot_capture" class="awesome_action_btn tooltip tooltip-bottom save" aria-label="Ctrl+Shift+Enter">$i18n{capture_btn_capture}</a></div><div id="awesome_color_panel" class="color_panel left"><div class="trangle"></div><div class="colors"><div id="awesome_width_small" class="width_cell shape"><div class="dot small"></div><div class="font small">A</div></div><div id="awesome_width_middle" class="width_cell shape"><div class="dot middle"></div><div class="font middle">A</div></div><div id="awesome_width_big" class="width_cell shape"><div class="dot big"></div><div class="font big">A</div></div><div id="red_clr" class="color_cell red"></div><div id="blue_clr" class="color_cell blue"></div><div id="green_clr" class="color_cell green"></div><div id="yellow_clr" class="color_cell yellow"></div><div id="gray_clr" class="color_cell gray"></div><div id="white_clr" class="color_cell white"></div></div></div><div id="awesome_svgs_panel" class="svg-panel right"></div></div>')).appendTo(i),f=i.querySelector("#awesome_screenshot_wrapper"),k=i.querySelector("#screenshot_annotate"),C=i.querySelector("#sign_view"),Z(f),U(),(T=k.querySelector("#file_input")).addEventListener("change",ce),window.addEventListener("resize",F,!1),document.body.addEventListener("keydown",X,!1),document.addEventListener("visibilitychange",Y),t||(f.addEventListener("mousedown",q,!1),L&&f.addEventListener("touchstart",B,!1)),document.documentElement.appendChild(E),be(),S=I.drawStyle,t?(z=!0,Q(k,"display","block"),J(document.documentElement.scrollTop,document.documentElement.scrollLeft,document.documentElement.clientWidth,m(),!0),me(),s.add("changeCssText",{element:document.scrollingElement,cssObj:{overflow:"hidden"}}),$(i).find(".border-style").show()):(z=!1,O.haveInsertFrame=!1),C.addEventListener("click",pe,!1),L&&C.addEventListener("touchend",(function(e){e.preventDefault(),pe(e.changedTouches[0])}),!1)}}function B(e){e.preventDefault();var t=this;if(e.changedTouches.length>0){var n,o,i=function(e){e.preventDefault(),Q(t,"background-color","rgba(0,0,0,0)"),o=parseInt(e.changedTouches[0].pageX)-a,n=parseInt(e.changedTouches[0].pageY)-r,s.children[0].innerHTML=parseInt(Math.abs(o))+" X "+parseInt(Math.abs(n)),K(a,r,o,n),G(a,r,o,n),V(e.changedTouches[0])},a=parseInt(e.changedTouches[0].pageX),r=parseInt(e.changedTouches[0].pageY),s=t.querySelector("#awesome_screenshot_size");R=r,t.addEventListener("touchmove",i,!1),t.addEventListener("touchend",(function e(l){if(l.preventDefault(),parseInt(l.changedTouches[0].pageX)-a!=0&&parseInt(l.changedTouches[0].pageY)-r!=0||!t.querySelector("#awesome_screenshot_center").clientWidth)J(a,r,o,n);else{Q(t,"background-color","rgba(0,0,0,0)"),s.children[0].innerHTML=Math.abs(200)+" X "+Math.abs(200);var c=a-100;c<=0?c=0:c>window.innerWidth-200&&(c=window.innerWidth-200);var d=r-100;d<=0?d=0:d>window.innerHeight-200&&(d=window.innerHeight-200),K(c,d,200,200),G(c,d,200,200),J(c,d,200,200)}t.removeEventListener("touchstart",B,!1),t.removeEventListener("touchmove",i,!1),t.removeEventListener("touchend",e,!1),Q(y,"display","block"),Q(k,"display","block"),Q(s,"display","block"),he()}),!1)}}function q(e){if(0==e.button){var t,n,o=function(e){Q(f,"background-color","rgba(0,0,0,0)"),n=e.pageX-i,t=e.pageY-a,r.children[0].innerHTML=Math.abs(n)+" X "+Math.abs(t),K(i,a,n,t),G(i,a,n,t),V(e)},i=e.pageX,a=e.pageY,r=f.querySelector("#awesome_screenshot_size");R=a,f.addEventListener("mousemove",o,!1),f.addEventListener("mouseup",(function e(s){if(s.pageX-i!=0&&s.pageY-a!=0||0!=f.querySelector("#awesome_screenshot_center").clientWidth)J(i,a,n,t);else{Q(f,"background-color","rgba(0,0,0,0)"),r.children[0].innerHTML=Math.abs(200)+" X "+Math.abs(200);var l=i-100;l<=0?l=0:l>window.innerWidth-200&&(l=window.innerWidth-200);var c=a-100;c<=0?c=0:c>window.innerHeight-200&&(c=window.innerHeight-200),K(l,c,200,200),G(l,c,200,200),J(l,c,200,200)}f.removeEventListener("mousedown",q,!1),f.removeEventListener("mousemove",o,!1),f.removeEventListener("mouseup",e,!1),Q(y,"display","block"),Q(k,"display","block"),Q(r,"display","block"),he()}),!1)}}function Y(){"visible"===document.visibilityState&&0==A.personType&&e({action:"getPersonType"})}function X(e){switch(e.keyCode){case 27:ge();break;case 46:case 8:D("deleteSelected");break;case 13:e.shiftKey&&e.ctrlKey&&se()}}function F(e){Z(f),be();var t=f.querySelector("#awesome_screenshot_center"),n=ee(t,"width"),o=ee(t,"height");if(n*o){var i=ee(t,"left"),a=ee(t,"top");K(i,a,n,o),J(i,a,n,o)}w.maxLeft=v,w.maxTop=x}function V(e){if(!O.drawFrameInsert){var t=f.querySelector("#awesome_screenshot_center"),n=ee(t,"top"),o=ee(t,"height"),i=document.scrollingElement.scrollTop,a=e.clientY,r=e.clientX,s=window.innerHeight-a,l=window.innerWidth-r,c=!(e.pageY>R);R=e.pageY;var d=i+window.innerHeight-n-o,p=n-i;e.target==t&&o<window.innerHeight?(p<30&&c?document.scrollingElement.scrollTop-=Math.abs(p)+15:d<50&&!c&&(document.scrollingElement.scrollTop+=Math.abs(d)+16>48?Math.abs(d)+16:48),r<40&&(document.scrollingElement.scrollLeft-=25),l<40&&(document.scrollingElement.scrollLeft+=60-l)):(a<20&&c?document.scrollingElement.scrollsTop-=35:s<40&&!c&&(document.scrollingElement.scrollTop+=60-s),r<40&&(document.scrollingElement.scrollLeft-=25),l<40&&(document.scrollingElement.scrollLeft+=60-l))}}function D(e,t){O.drawFrameInsert&&$("#screenshot_iframe")[0].contentWindow.postMessage({type:e,data:{type:e,value:t}},"*")}function U(){var e=!1;k&&(0==A.personType?($(k).find(".premium").addClass("isfree"),e=!0):$(k).find(".premium").removeClass("isfree"),O.drawFrameInsert&&D("premiumPlan",e))}function K(e,t,n,o){var i=document.scrollingElement.scrollWidth,a=document.scrollingElement.scrollHeight,r=n>=0?e+n:e,s=o>=0?t:t+o,l=n>=0?i-e-n:i-e,c=o>=0?t+o:t,d=n>=0?i-e:i-e-n,p=a-c,m=i-d,u=a-s,h=f.querySelector("#awesome_screenshot_top"),b=f.querySelector("#awesome_screenshot_right"),g=f.querySelector("#awesome_screenshot_bottom"),w=f.querySelector("#awesome_screenshot_left");Q(h,"width",r+"px"),Q(h,"height",s+"px"),Q(b,"width",l+"px"),Q(b,"height",c+"px"),Q(b,"left",r+"px"),Q(g,"width",d+"px"),Q(g,"height",p+"px"),Q(g,"top",c+"px"),Q(g,"left",m+"px"),Q(w,"width",m+"px"),Q(w,"height",u+"px"),Q(w,"top",s+"px")}function J(e,t,n,o,i){var a=282;Math.abs(o)>m()||!A.autoOnline?($(k).find("#shapes_area").css("display","none"),a=90):$(k).find("#shapes_area").css("display","flex");var r=window.innerWidth-108,s=o>0?t+o:t,l=n>0?e+n:e,c=Math.abs(o),d=n>0?e:e+n;if(i){Q(k,"right","48px");var p=document.scrollingElement.scrollTop+(c-265)/2;Q(k,"top",p+"px"),M=!0}else{if(l>r){var u=window.innerWidth-l;if(d>124){var h=window.innerWidth-d+4;Q(k,"right",h+"px")}else{var b=u+4;Q(k,"right",(h=u-106)>0?h+40+"px":(b>46?b:46)+"px"),h<0&&(M=!0)}}else Q(k,"right",r-l+42+"px"),M=!1;Q(k,"top",((p=s-a-20)>0?p:0)+"px")}Q(k,"display","block")}function G(e,t,n,o){var i=n>=0?e:e+n,a=o>=0?t:t+o,r=f.querySelector("#awesome_screenshot_center");Q(r,"width",Math.abs(n)+"px"),Q(r,"height",Math.abs(o)+"px"),Q(r,"top",a+"px"),Q(r,"left",i+"px")}function Z(e){Q(e,"display","none"),Q(e,"width",document.scrollingElement.scrollWidth+"px"),Q(e,"height",document.scrollingElement.scrollHeight+"px"),Q(e,"display","block")}function Q(e,t,n){e&&e.style.setProperty(t,n)}function ee(e,t){return parseInt(e.style.getPropertyValue(t))}function te(e){re(),ae(),D(e)}function ne(t,n,o){S[_]||(S[_]={}),n?($(k).find(".color_cell").removeClass("selected"),S[_].color=o,$(t).addClass("selected")):("text"===_?($(k).find(".width_cell").removeClass("shape"),$(k).find(".width_cell").addClass("text"),$(k).find(".font").removeClass("selected"),$(k).find("."+o).addClass("selected")):($(k).find(".width_cell").removeClass("text"),$(k).find(".width_cell").addClass("shape"),$(k).find(".dot").removeClass("selected"),$(k).find("."+o).addClass("selected")),S[_].width=o),e({action:"recordStyle",shape:_,isColor:n,value:o}),O.updateCurentStyle(_,S[_],n?2:3)}function oe(e,t,n,o){var i=!0;o&&(i=!1),!z&&i&&le(!1,!1),_=t,$(k).find(".toolbar_item").removeClass("selected"),i?$(e).addClass("selected"):$(k).find("."+t).parent().addClass("selected");var a=!0;"insertImage"!==t&&"image"!==t&&(!function(e,t){var n,o=!0;t&&(o=!1);S[e]||(S[e]={});n=o?S[e]:t;if(n.width){var i=n.width;"text"===e?($(k).find(".width_cell").removeClass("shape"),$(k).find(".width_cell").addClass("text"),$(k).find(".font").removeClass("selected"),$(k).find("."+i).addClass("selected")):($(k).find(".width_cell").removeClass("text"),$(k).find(".width_cell").addClass("shape"),$(k).find(".dot").removeClass("selected"),$(k).find("."+i).addClass("selected"))}else"text"===e?($(k).find(".width_cell").removeClass("shape"),$(k).find(".width_cell").addClass("text"),$(k).find(".font").removeClass("selected"),$(k).find(".middle").addClass("selected")):($(k).find(".width_cell").removeClass("text"),$(k).find(".width_cell").addClass("shape"),$(k).find(".dot").removeClass("selected"),$(k).find(".middle").addClass("selected"));n.color?($(k).find(".color_cell").removeClass("selected"),$(k).find("."+n.color).addClass("selected")):($(k).find(".color_cell").removeClass("selected"),$(k).find(".red").addClass("selected"))}(t,o),a=!1),i&&O.updateCurentStyle(t,a?"":S[t],1),"rect_blur"===t?($(k).find("#awesome_color_panel").css("display","none"),ae()):O.drawFrameInsert&&n&&ie()}function ie(){var e,t;if(w?(e=w.elmX,t=w.elmW):(e=0,t=window.innerWidth),_){var n=["rect","ellipse","line_arrow","curve","rect_blur","undo","text","callout","list"].indexOf(_);if(n>=0){var o=!1;(42<(i=window.innerWidth-e-t)&&i<232||e<124&&i<66)&&(o=!0),function(e,t,n){ae();var o=$(k).find("#awesome_color_panel"),i=$(k).find(".trangle")[0];e?(o.removeClass("left"),o.addClass("right")):(o.removeClass("right"),o.addClass("left"));n?($(o).find(".width_cell").addClass("hidden"),$(o).addClass("only_color")):($(o).removeClass("only_color"),$(o).find(".width_cell").removeClass("hidden"));$(i).css("top",t+"px"),o.css("display","block")}(n<5,12+n%6*31)}else if($(k).find("#awesome_color_panel").css("display","none"),"image"==_){var i;o=!1;(66<(i=window.innerWidth-e-t)&&i<232||e<124&&i<66)&&(o=!0),function(e){var t=k.querySelector("#awesome_svgs_panel");if(0==t.childElementCount){var n="",o=chrome.runtime.getURL("");H.forEach((function(e){n+="<div class='image-item' value = "+e+"> <img id = "+e+" src='"+(o+"images/svg/"+e+".svg")+"'/></div>"})),t.innerHTML=n}e?($(t).removeClass("right"),$(t).addClass("left")):($(t).removeClass("left"),$(t).addClass("right"));$(t).css("display","block")}(o)}}}function ae(){$(k).find("#awesome_svgs_panel").css("display","none"),k.querySelector("#awesome_image_btn").parentNode.classList.remove("selected")}function re(){$(k).find("#awesome_color_panel").css("display","none")}function se(){e({action:"checkUserStatus"})}function le(t,n){e({action:"canCapture",isCopy:t,isUserAction:n})}function ce(e){var t=e.target.files[0];if(t){var n=URL.createObjectURL(t);O.updateCurentStyle("insertImage",{name:n})}}function de(){C&&$(C).css("display","none")}function pe(t){switch(t.target.id){case"popup-sign-in-btn":e({action:"openNewTab",url:"https://www.awesomescreenshot.com/signin"}),de();break;case"close":de()}}function me(){k.addEventListener("click",ue,!1),L&&k.addEventListener("touchend",(function(e){e.preventDefault(),ue(e.changedTouches[0])}),!1)}function ue(e){try{e.stopPropagation()}catch(e){}switch(e.target.id){case"awesome_rect_btn":oe(e.target,"rect",!0);break;case"awesome_round_btn":oe(e.target,"ellipse",!0);break;case"awesome_arrow_btn":oe(e.target,"line_arrow",!0);break;case"awesome_freeline_btn":oe(e.target,"curve",!0);break;case"awesome_blur_btn":oe(e.target,"rect_blur",!1);break;case"awesome_text_btn":oe(e.target,"text",!0);break;case"awesome_callout_btn":oe(e.target,"callout",!0);break;case"awesome_step_btn":oe(e.target,"list",!0);break;case"awesome_image_btn":oe(e.target,"image",!0);break;case"awesome_image_local_btn":z||le(!1,!1),0==A.personType?($(k).find("#awesome_color_panel").css("display","none"),ae(),O.updateCurentStyle("insertImage",{})):$(T).click();break;case"awesome_clear_btn":te("clear");break;case"awesome_undo_btn":te("undo");break;case"awesome_width_small":ne(e.target,!1,"small");break;case"awesome_width_middle":ne(e.target,!1,"middle");break;case"awesome_width_big":ne(e.target,!1,"big");break;case"red_clr":ne(e.target,!0,"red");break;case"blue_clr":ne(e.target,!0,"blue");break;case"green_clr":ne(e.target,!0,"green");break;case"yellow_clr":ne(e.target,!0,"yellow");break;case"gray_clr":ne(e.target,!0,"gray");break;case"white_clr":ne(e.target,!0,"white");break;case"awesome_screenshot_capture":se();break;case"awesome_screenshot_cancel":ge();break;case"awesome_screenshot_copy":le(!0,!0);break;default:var t=e.target.id;H.indexOf(t)>=0&&(O.updateCurentStyle("image",{name:t}),ae())}}function he(){var e=f.querySelector("#awesome_screenshot_center");w=new DragResize("dragresize",{maxLeft:v,maxTop:x});var t=f.querySelector("#awesome_screenshot_size");w.isElement=function(e){if(e.className&&e.className.indexOf("drsElement")>-1)return!0},w.isHandle=function(e){if(e.className&&e.className.indexOf("drsMoveHandle")>-1)return!0},w.ondragmove=function(e,n){var o=w.elmX,i=w.elmY,a=w.elmW,r=w.elmH;t.children[0].innerHTML=parseInt(Math.abs(a))+" X "+parseInt(Math.abs(r)),Q(t,"top",i<30?"5px":"-30px"),J(o,i,a,r),K(o,i,a,r),G(o,i,a,r),V(n)},w.apply(f),w.select(e),me()}function be(){x=document.scrollingElement.scrollHeight,v=document.scrollingElement.scrollWidth}function ge(){window.removeEventListener("resize",F),document.body.removeEventListener("keydown",X,!1),document.removeEventListener("visibilitychange",Y),f&&f.parentNode&&f.parentNode.removeChild(f);var e=document.querySelector("#as_select_wrapper");e&&e.parentNode.removeChild(e);var t=document.querySelector("#screenshot_iframe");t&&t.parentNode.removeChild(t),O.updateFrameStatus(!1),$(window).unbind("scroll"),$("body").removeClass("unselectable"),r(),z=!1,w=null,_="",O.drawFrameInsert=!1,A.resetStatus()}function fe(e){e?M&&Q(k,"visibility","hidden"):Q(k,"visibility","visible")}window.addEventListener("message",(function(t){if(t.data.mark==A.iframeMark)switch(t.data.type){case"initIframe":P||(fe(!1),ie(),P=!0,$("#screenshot_iframe")[0].contentWindow.postMessage({type:"init",dataUrl:A.temImage},"*"),O.updateFrameStatus(!0),A.iframeStatus=!0,e({action:"getPersonType"}),document.documentElement==document.scrollingElement?s.add("changeCssText",{element:document.documentElement,cssObj:{overflow:"hidden"}}):s.add("addStyle",{id:"disable_scroll-capture",css:"html{overflow: hidden !important; height: 100% !important}"}));break;case"selected":t.data.data?function(e){var t;ae();var n={};switch(e.shape){case 1:t="curve";break;case 3:t="rect";break;case 4:t="ellipse";break;case 7:t="callout";break;case 8:t="list";break;case 23:case 20:case 2:t="line_arrow";break;case 5:t="rect_blur";break;case 80:t="text"}var o=!0;e.isInsert&&($(k).find("#awesome_color_panel").css("display","none"),o=!1),t&&(n.width=function(e,t){var n="middle";if("text"!==t&&"callout"!==t)switch(e){case 2:n="small";break;case 4:n="middle";break;case 8:n="big"}else switch(e){case 22:n="small";break;case 32:n="middle";break;case 48:n="big"}return n}(e.penWidth,t),n.color=function(e){var t="red";switch(e){case"rgba(255,0,0,1)":t="red";break;case"rgba(0,255,0,1)":t="green";break;case"rgba(72,135,232,1)":t="blue";break;case"rgba(241,194,49,1)":t="yellow";break;case"rgba(102,102,102,1)":t="gray";break;case"rgba(255,255,255,1)":t="white"}return t}(e.color),oe("",t,o,n))}(t.data.data):P?P=!1:(re(),ae());break;case"copy":ae(),t.data.data&&(h(t.data.data),ge(),r());break;case"undo":t.data.data?$(k).find("#awesome_undo_btn").removeClass("disable"):$(k).find("#awesome_undo_btn").addClass("disable");break;case"closeModel":$("#screenshot_iframe").css("z-index",2147483620);break;case"removeselect":ge(),r();break;case"clear":t.data.data?$(k).find("#awesome_clear_btn").addClass("disable"):$(k).find("#awesome_clear_btn").removeClass("disable")}}));var we,xe,ve=1,_e=0,ye=0,ke=0,Ce=0,Te=!1,Ee=window.location.hostname,$e={},Se=[],ze=!1,Me=0,Pe=!1,Re={visible:{enable:"false",key:"V"},selected:{enable:"false",key:"S"},entire:{enable:"false",key:"E"}},Le=null;function Ie(){var e=document.createElement("p");e.style.width="100%",e.style.height="200px";var t=document.createElement("div");t.style.position="absolute",t.style.top="0px",t.style.left="0px",t.style.visibility="hidden",t.style.width="200px",t.style.height="150px",t.style.overflow="hidden",t.appendChild(e),document.body.appendChild(t);var n=e.offsetWidth;t.style.overflow="scroll";var o=e.offsetWidth;return n==o&&(o=t.clientWidth),document.body.removeChild(t),n-o}function He(){return"CSS1Compat"===document.compatMode?document.documentElement.clientHeight:document.body.clientHeight}function Ne(e){if(ze&&void 0!==e&&e){s.checkAdd(e)?e.style.cssText=e.style.cssText+"height:auto !important":s.add("changeCssText",{element:e,cssObj:{height:"auto"}});var t=document.defaultView.getComputedStyle(e,"");if(t){"absolute"===t.getPropertyValue("position")&&(e.parentNode==document.body?e.style.cssText=e.style.cssText+"position:relative !important;top:0px;width:"+e.clientWidth+"px":e.style.cssText=e.style.cssText+"position:relative !important;width:"+e.clientWidth+"px");var n=t.getPropertyValue("overflow");n.length>1&&"visible"!==n&&(e.style.cssText=e.style.cssText+"overflow:visible !important;")}e.parentNode!=document.body.parentNode&&Ne(e.parentNode)}}function We(){if(Se){for(var e=0,t=Se.length;e<t;e++){var n=Se[e];n.element.style.cssText=n.cssText}Se=[]}}function Ae(){$e.x=window.innerHeight>He(),$e.y=document.scrollingElement.scrollHeight>window.innerHeight}function Oe(e,t){if(e)for(var n=0,o=Se.length;n<o;++n){var i=Se[n];i.element.style.cssText=i.cssText}else for(var a,r=document.createNodeIterator(document.documentElement,NodeFilter.SHOW_ELEMENT,null,!1);a=r.nextNode();){var l=document.defaultView.getComputedStyle(a,"");if(!l)return;if(!(/www.facebook.com/.test(window.location.host)&&(/u_fetchstream_/.test(a.id)||/u_0_1/.test(a.id))&&$(a).parents("#pagelet_group_mall").length>0)){var c=l.getPropertyValue("position"),d=l.getPropertyValue("visibility"),p=l.getPropertyValue("display");if("fixed"!==c||!/forms.microsoft.com/.test(window.location.host)||"top-view-container"!==a.className&&"design-body-container"!==a.className||"none"==p||"hidden"==d){if(t&&"fixed"==c&&"none"!=p&&"hidden"!=d&&!/coursera.org/.test(window.location.host)&&!/facebook.com/.test(window.location.host))if((x=parseInt(l.getPropertyValue("top")))+parseInt(l.getPropertyValue("height"))<window.innerHeight/2)continue;if(!("fixed"==c&&/cognixia.com/.test(window.location.host)&&parseInt(l.getPropertyValue("bottom"))<0||("fixed"==c||"sticky"===c)&&parseInt(l.getPropertyValue("right"))+parseInt(l.getPropertyValue("width"))<0&&a.parentNode==document.body)){if("fixed"===c||"sticky"===c){var m=a.getBoundingClientRect();if(m&&"hidden"!=d&&m.width>0&&m.height>0){var u=m.left+m.width,h=m.top+m.height;if(u<0||u>=window.innerWidth+m.width||h<0||h>=window.innerHeight+m.height){s.add("changeCssText",{element:a,cssObj:{visibility:"hidden"}});continue}}}if(/coursera.org/.test(window.location.host)&&"fixed"===c){if("_8f0ciyt rc-ItemNavigation"===a.className&&!$(".rc-TunnelVisionWrapper")[0]&&ze){s.add("changeCssText",{element:a,cssObj:{position:"static"}});continue}if("_oafuo3g"===a.className){$(".rc-TunnelVisionWrapper").length>0&&($("#rendered-content").length>0&&s.add("changeCssText",{element:$("#rendered-content")[0],cssObj:{display:"none"}}),s.add("changeCssText",{element:a,cssObj:{position:"relative"}}));continue}}if(("fixed"==c||"sticky"===c)&&"none"!=p&&"hidden"!=d&&(a.clientWidth<.8*window.innerWidth||a.clientHeight<.8*window.innerHeight||a.scrollHeight>=window.innerHeight)){if(!a.style)continue;Se.push({element:a,cssText:a.style.cssText});var b=Math.round(parseFloat(l.getPropertyValue("top"))),g=Math.round(parseFloat(l.getPropertyValue("left"))),f=document.scrollingElement.scrollHeight;if(/twitter.com/.test(window.location.host)&&"css-1dbjc4n r-gtdqiz r-1hycxz"===a.className?a.style.cssText=a.style.cssText+"position:static !important":a.style.cssText=a.style.cssText+"position:"+("fixed"===c?"absolute":"relative")+" !important",/twitter.com/.test(window.location.host)&&"css-1dbjc4n r-aqfbo4 r-1pi2tsx r-1xcajam r-ipm5af"===a.className&&(a.style.cssText=a.style.cssText+"height:auto"),/cazoo.co.uk/.test(window.location.host)||/facebook.com/.test(window.location.host)||/twitter.com/.test(window.location.host)||/7mkr.com/.test(window.location.host)||/163.com/.test(window.location.host)||/github.io/.test(window.location.host)){var w=Be(a,b,g,f),x=w.top;isNaN(x)||(a.style.cssText=a.style.cssText+"top:"+x+"px");var v=w.left;isNaN(v)||(a.style.cssText=a.style.cssText+"left:"+v+"px")}/facebook.com/.test(window.location.host)&&("rq0escxv lpgh02oy du4w35lb rek2kq2y"!==a.className&&"hybvsw6c cjfnh4rs j83agx80 cbu4d94t dp1hu0rb l9j0dhe7 be9z9djy iyyx5f41 jyyn76af aip8ia32 so2p5rfc hxa2dpaq"!==a.className||(a.style.cssText=a.style.cssText+"top:0px !important")),/toyota.jp/.test(window.location.host)&&"chatplusview"===a.id&&(a.style.cssText=a.style.cssText+"bottom:0px"),"rc-QuizAttemptHeader"===a.className&&$(a).parents(".c-open-single-page-attempt").length>0&&/coursera.org/.test(window.location.host)&&s.add("changeCssText",{element:$(a).parents(".c-open-single-page-attempt")[0],cssObj:{position:"static"}})}}}else Ye(a)}}}function je(t){switch(String.fromCharCode(t.which)){case Re.visible.key:1==Re.visible.enable&&t.shiftKey&&t.ctrlKey&&e({action:"visible",actionFrom:"shortCut"});break;case Re.selected.key:1==Re.selected.enable&&t.shiftKey&&t.ctrlKey&&e({action:"selected",actionFrom:"shortCut"});break;case Re.entire.key:1==Re.entire.enable&&t.shiftKey&&t.ctrlKey&&e({action:"entire",actionFrom:"shortCut"})}}function Be(e,t,n,o){var i=e.offsetTop,a=e.offsetLeft,r=!1;t>.8*window.innerHeight&&(r=!0);var s=qe(e);return s?{top:r?o-s.top-window.innerHeight+t:(isNaN(t)?0:t)-s.top,left:isNaN(n)?0:n-s.left}:{top:i,left:a}}function qe(e,t){var n=e.parentNode;if(n!==document.body&&n!==document){var o=document.defaultView.getComputedStyle(n,"");if(o){var i=o.getPropertyValue("position");if(i&&"static"!==i){var a=Math.round(parseFloat(o.getPropertyValue("margin-top"))),r=n.offsetTop,s=n.offsetLeft,l={top:r+(isNaN(a)?0:a),left:s};return qe(n,t?{top:l.top+t.top,left:l.left+t.left}:l)}return qe(n,t)}return qe(n,t)}return t||{top:0,left:0}}function Ye(e){s.add("changeCssText",{element:e,cssObj:{position:"static"}}),Xe(e)}function Xe(e){e!==document.body?Xe(e.parentNode):s.add("changeCssText",{element:e,cssObj:{height:"auto"}})}e({action:"getRecordStyle"}),e({action:"canScroll",canSroll:document.scrollingElement.scrollHeight>window.innerHeight}),window.addEventListener("beforeunload",(function(t){e({action:"pageReload"})})),chrome.runtime.onMessage.addListener((function(t,n,o){switch(t.action){case"tabCanScroll":e({action:"canScroll",canSroll:document.scrollingElement.scrollHeight>window.innerHeight});break;case"update_shortcuts":!function(e){var t=document.body;if(t.removeEventListener("keydown",je,!1),t.addEventListener("keydown",je,!1),e.msObj){var n=e.msObj;for(var o in n=JSON.parse(n))Re[o].enable=n[o].enable,Re[o].key=n[o].key}}(t);break;case"init_entire_capture":A.updateAutoOnline(t.autoOnline),function(){Te=!1,!ze&&document.scrollingElement.scrollHeight<=window.innerHeight+5&&function(){var e,t=document.createNodeIterator(document.body,NodeFilter.SHOW_ELEMENT,null,!1),n=.5*document.body.clientWidth;for(;e=t.nextNode();){var o=document.defaultView.getComputedStyle(e,""),i=o.getPropertyValue("visibility"),a=o.getPropertyValue("display");if(e.scrollHeight>window.innerHeight+10&&e.clientWidth>n&&"none"!=a&&"hidden"!=i&&e.childNodes.length>0&&"contract-trigger"!=e.className){ze=!0,xe=e;break}}}();d(!1),function(){if(/www.rest-ar.com/.test(window.location.href)||/mail.google.com/.test(window.location.href)||/facebook.com/.test(window.location.href)||/sketch.com/.test(window.location.href)||/lanhuapp.com/.test(window.location.href)||/kingkong.com.au/.test(window.location.href)||/jamboard.google.com/.test(window.location.host)||/geologycloud.tw/.test(window.location.host)||/safespaceshop.com/.test(window.location.host))return;var e,t=[],n=document.createNodeIterator(document.body,NodeFilter.SHOW_ELEMENT,null,!1);for(;e=n.nextNode();){var o=window.getComputedStyle(e);if(!o)return;if("none"!==o.display&&(""!==e.innerHTML&&0!=parseInt(o.height)&&"hidden"!==o.visibility)){var i=o.getPropertyValue("position");if("pageBackground_c1dmp"!==e.id||!/wixsite.com/.test(window.location.host)){if("scroll"===o.overflowY&&parseInt(o.width)>.5*window.innerWidth&&(e.scrollHeight>e.offsetHeight+10||e.offsetHeight>=window.innerHeight)&&s.add("changeCssText",{element:e,cssObj:{overflow:"visible"}}),!/mail.google.com/.test(window.location.host)&&"absolute"===i){var a=e.nodeName.toLowerCase();if(/superhuman.com/.test(window.location.host)||/figma.com/.test(window.location.host)&&"css-v0jgcu"===e.className)return;"iframe"!==a&&"img"!==a&&"picture"!==a&&"figure"!==a&&"video"!==a&&parseInt(o.height)>200&&parseInt(o.width)>.5*window.innerWidth&&(e.scrollHeight>e.offsetHeight+10||e.offsetHeight>=window.innerHeight)&&e.offsetHeight>$(e).parent().height()+60&&(t.push({element:e,style:o}),$(e).parents().each((function(n,o){"iframe"!==e.nodeName&&"img"!==e.nodeName&&"figure"!==a&&"absolute"===window.getComputedStyle(o).position&&t.push({element:o,style:window.getComputedStyle(o)})})))}var r=e.getBoundingClientRect();r.width>.75*window.innerWidth&&r.height>.75*window.innerHeight&&["::before","::after"].forEach((function(t){if("fixed"===window.getComputedStyle(e,t).postion){var n=e.id?e.id:"aws-entire-capture-"+Math.random().toString(36).substring(2,15);s.add("changeAttr",{element:e,attrName:"id",attrValue:n});var o="#"+window.CSS.escape(n)+t+" {position: absolute;}";s.add("addStyle",{id:"fix-pseudos",css:o})}}))}}}var c=document.body.getBoundingClientRect();c.left,window.scrollX,c.top,window.scrollY;if(t.length>0){var d="html{"+l({overflow:"visible",overflowY:"visible"})+"}body{"+l({overflow:"visible",overflowY:"visible"})+"}";s.add("addStyle",{id:"handing-abs-body",css:d})}t.forEach((function(e){var t=e.style.width,n=Math.max(e.element.scrollHeight,parseInt(e.style.height))+"px",o=(parseFloat(e.style.left),parseFloat(e.style.top),{position:"relative",width:t,height:n,overflow:"visible"});s.add("changeCssText",{element:e.element,cssObj:o})}))}(),t="*{transition: none !important; transition-delay: 0s !important; animation-duration: 0s !important; animation-delay: 0s !important;}",void s.add("addStyle",{id:"disable-transition",css:t}),function(){if(/quora.com/.test(window.location.host))s.add("addStyle",{id:"quara-fix",css:".Answer.ActionBar.sticky { position: static !important }"});else if(/mail.google.com/.test(window.location.host))s.add("changeCssText",{element:document.documentElement,cssObj:{overflowY:"visible",height:"auto"}}),s.add("changeCssText",{element:document.body,cssObj:{overflowY:"visible",height:"auto"}}),s.add("changeCssText",{element:document.getElementById(":3"),cssObj:{overflowY:"visible",height:"auto"}});else if(/arosalenzerheide.ltibooking.com/.test(window.location.host))s.add("changeCssText",{element:document.getElementsByClassName("cloudstore-top-bar")[0],cssObj:{top:"-"+window.getComputedStyle(document.getElementsByClassName("cloudstore-top-bar")[0]).height}});else if(/www.rest-ar.com/.test(window.location.host))document.getElementById("app")&&s.add("changeCssText",{element:document.getElementById("app"),cssObj:{height:document.getElementById("app").scrollHeight+"px"}});else if(/designincubation.com/.test(window.location.href))s.add("addStyle",{id:"body-change",css:"body:before, body:after {display:none !important;}"});else if(/www.americanas.com.br/.test(window.location.host))s.add("changeCssText",{element:document.getElementById("header-bottom"),cssObj:{position:"relative"}}),s.add("changeCssText",{element:document.getElementById("header-middle"),cssObj:{position:"relative"}});else if(/www.shoppingsquare.com.au/.test(window.location.host))s.add("changeCssText",{element:document.getElementsByClassName("top-menu")[0],cssObj:{position:"relative !important;"}});else if(/linknovate.com/.test(window.location.host)){if(document.getElementsByTagName("section").length>0){var e=document.getElementsByTagName("section")[0];s.add("changeCssText",{element:e,cssObj:{height:"auto !important;"}})}}else/cognixia.com/.test(window.location.host)?document.getElementById("site-header")&&s.add("changeCssText",{element:document.getElementById("site-header"),cssObj:{position:"relative !important;"}}):/inahalfshell.com/.test(window.location.host)&&s.add("addStyle",{id:"aws-Parallax-item",css:".Parallax-item, .Parallax-item figure{position: absolute !important; transform: translate3d(0px, 0px, 0px) !important}"});s.add("addStyle",{id:"adwords-sticky",css:'[stickyclass="sticky"], ess-particle-table [role="row"], [acxscrollhost] .header-sticky-container  { transform: translate(0px, 0px) !important }'})}(),i(Ee),We(),Oe(!1,!0),ve=1,$("<div id='aws-record-div'></div>").appendTo(document.body),ze&&document.scrollingElement.scrollHeight<=window.innerHeight+30&&!/trello.com/.test(window.location.host)&&!/jamboard.google.com/.test(window.location.host)&&!/geologycloud.tw/.test(window.location.host)&&Ne(xe);var t;if(_e=document.scrollingElement.scrollTop,ye=document.scrollingElement.scrollLeft,ke=He(),Ce=document.documentElement.clientWidth,document.scrollingElement.scrollTop=0,document.scrollingElement.scrollLeft=0,Ae(),window.onresize=Ae,!$e.x&&!$e.y)return void e({action:"visible",menuType:"entire"});we||(we="entire "+Math.random());setTimeout(e,300,{action:"scroll_next_done",userAction:"save",isFirstScroll:!0,mark:we,windowHeight:window.innerHeight*window.devicePixelRatio})}();break;case"init_selected_capture":A.updateAutoOnline(t.autoOnline),function(){Te=!0,ve=1;var e=document.getElementById("searchbar");if(null!==e&&e.classList.contains("searchbar")){e.style.display="none",document.body.id=""}s.add("addStyle",{id:"aws-entire-capture",css:"html::-webkit-scrollbar,body::-webkit-scrollbar, body::-webkit-scrollbar:horizontal, body::-webkit-scrollbar:vertical{width: 0 !important; height: 0 !important}"}),ke=He(),Ce=window.document.documentElement.clientWidth,document.scrollingElement.scrollHeight,document.scrollingElement.scrollWidth,j(!1)}();break;case"scroll_next":!function(){var t=Math.ceil(document.scrollingElement.scrollTop),n=Math.ceil(document.scrollingElement.scrollLeft);if(Te){var o=A.getCenterPosition(),i=o.left,a=o.top,r=o.width,s=o.height;if(r<=Ce&&s>ke){if(a+s==t+ke||a+s-1==t+ke||a+s<t+ke)return void e({action:"entire_capture_done",counter:ve,ratio:{x:0,y:s%ke/ke},scrollBar:{x:!1,y:!0,realX:window.innerHeight>document.documentElement.clientHeight},data:{x:i*window.devicePixelRatio,y:a*window.devicePixelRatio},centerW:r*window.devicePixelRatio,centerH:s*window.devicePixelRatio});a+s<t+2*ke?document.scrollingElement.scrollTop=a+s-ke:a+s>t+2*ke&&(document.scrollingElement.scrollTop=t+ke)}if(r>Ce&&s<=ke){if(i+r==n+Ce)return void e({action:"entire_capture_done",counter:ve,ratio:{x:r%Ce/Ce,y:0},scrollBar:{x:!0,y:!1,realY:window.innerWidth>document.documentElement.clientWidth},centerW:r*window.devicePixelRatio,centerH:s*window.devicePixelRatio});i+r<n+2*Ce?document.scrollingElement.scrollLeft=i+r-Ce:i+r>n+2*Ce&&(document.scrollingElement.scrollLeft=n+Ce)}if(r>Ce&&s>ke){if(a+s==t+ke)return i+r==n+Ce?void e({action:"entire_capture_done",counter:ve,ratio:{x:r%Ce/Ce,y:s%ke/ke},scrollBar:{x:!0,y:!0},centerW:r*window.devicePixelRatio,centerH:s*window.devicePixelRatio}):(i+r<n+2*Ce?document.scrollingElement.scrollLeft=i+r-Ce:i+r>n+2*Ce&&(document.scrollingElement.scrollLeft=n+Ce),ve++,document.scrollingElement.scrollTop=a,void setTimeout(e,300,{action:"scroll_next_done"}));a+s<t+2*ke?document.scrollingElement.scrollTop=a+s-ke:a+s>t+2*ke&&(document.scrollingElement.scrollTop=t+ke)}}else{if(e({action:"entireCaptureProgress",percentage:Math.round(document.scrollingElement.scrollTop/(document.scrollingElement.scrollHeight-ke)*100)+"%",scrollNum:Me}),document.scrollingElement.scrollTop=t+ke,Me++,Math.ceil(document.scrollingElement.scrollTop)==t||Pe){n=document.scrollingElement.scrollLeft;if(document.scrollingElement.scrollLeft=n+Ce,!$e.x||document.scrollingElement.scrollLeft==n){var l={};return l.y=t%ke/ke,0==l.y&&(l.y=1),l.x=n%Ce/Ce,document.scrollingElement.scrollTop=_e,document.scrollingElement.scrollLeft=ye,We(),e({action:"entire_capture_done",counter:Pe?ve-1:ve,ratio:Pe?{x:1,y:1}:l,scrollBar:$e}),Me=0,void(Pe=!1)}return ve++,document.scrollingElement.scrollTop=0,void setTimeout(e,300,{action:"scroll_next_done"})}}setTimeout((function(){Oe(!1,!1),setTimeout((function(){e({action:"scroll_next_done"})}),150)}),150)}();break;case"destroy_selected":We(),r(),ge(),ze=!1;break;case"restorebar":if(!A.getIframeSatus()){a(Ee),We(),r();var c=document.getElementById("searchbar");null!=c&&(c.style.display="block",document.body.id="searchbarshow"),ze=!1}break;case"stop-entire-capture":Pe=!0;break;case"delay-capture":null!==Le&&(clearInterval(Le),Le=null,$("#awe_delay_div").remove());var p=$('<div id="awe_delay_div"><span></span><div id="awe_delay_cancel">Cancel</div></div>').appendTo("body").find("span").text(t.sec).end();p.find("#awe_delay_cancel").on("click",(function(){clearInterval(Le),Le=null,p.remove()})),$.Draggable(p[0],{});var m=t.sec?t.sec-1:2;Le=setInterval((function(){if(m<=0)return clearInterval(Le),Le=null,p.remove(),void setTimeout((function(){e({action:"visible"})}),100);$("#awe_delay_div").find("span").text(m),m--}),1e3);break;case"copytoclipboard":!function(e){if(e){var t=document.createElement("img"),n=document.createElement("canvas"),o=n.getContext("2d");t.onload=function(){n.width=t.width,n.height=t.height,o.drawImage(t,0,0),n.toBlob((function(e){h(e)}))},t.src=e}}(t.obj);break;case"persionType":A.updateType(t.persionType);break;case"userStatus":A.updateStatus(t.userStatus);break;case"canCapture":A.captureSelectAction(t.isCopy,t.isUserAction);break;case"recordStyle":I.updateStyle(t.recordStyle);break;case"dataURL":var u=t.cw,g=t.ch,f=t.ct,w=t.cl,x=(t.userAction,t.incognito);if(A.getIframeSatus()||A.getSetupStatus()&&0==u)return;if(b())return;var v=f/window.devicePixelRatio,_=w/window.devicePixelRatio,y=u/window.devicePixelRatio,k=g/window.devicePixelRatio,C=document.createElement("canvas");if(!C.style)return void alert("Extension cannot run on this page because it contains XML files.");var T=C.getContext("2d"),E=document.createElement("img");if(null!=t.dataURL&&0!=u)C.width=u,C.height=g,E.onload=function(){T.drawImage(E,w,f,u,g,0,0,u,g);var e=C.toDataURL();A.holdTemImage(e)},E.src=t.dataURL;else{A.updateAutoOnline(t.autoOnline);var S=!1;document.scrollingElement.scrollHeight>window.innerHeight&&(S=!0);var z=(window.innerWidth-(S?Ie():0))*window.devicePixelRatio,M=window.innerHeight*window.devicePixelRatio;C.width=z,C.height=M,v=0,_=0,y=window.innerWidth-(ze?Ie():0),k=window.innerHeight,E.onload=function(){T.drawImage(E,0,0,z,M,0,0,z,M);var e=C.toDataURL();A.holdTemImage(e)},E.src=t.dataURL,j(!0)}var P=parseInt(Date.now())+"";A.updateIframeMask(P);var R=document.createAttribute("id"),L=document.createElement("iframe");R.nodeValue="screenshot_iframe",L.setAttributeNode(R),L.src=chrome.extension.getURL("")+"annotate-react.html?ct="+v+"&cl="+_+"&cw="+y+"&ch="+k+"&incognito="+x+"&mark="+P+"&actionType="+t.actionType+"&format="+t.format,document.documentElement.appendChild(L),$(L).css("cssText","top:0px;left:0px;border:none;position:fixed;z-index:2147483620;width:"+window.innerWidth+"px!important;height:"+window.innerHeight+"px!important;color-scheme:auto"),ze=!1}}));const Fe=".frame-container {\n  position: fixed !important;\n  bottom: 0;\n  right: 0;\n  width: 320px;\n  height: 180px;\n  z-index: 9999999;\n}\n.frame-container:hover .action {\n  display: block;\n  background-image: linear-gradient(rgba(0, 0, 0, 0.5), transparent);\n}\n.frame-container .action {\n  display: none;\n  position: absolute;\n  height: 40px;\n  top: 0;\n  left: 0;\n  right: 0;\n}\n.frame-container .action-item {\n  height: 30px;\n  width: 30px;\n  float: right;\n  color: white;\n  font-size: 30px;\n  cursor: pointer;\n}\n.frame-container .action-item.close {\n  transform: rotate(45deg);\n  position: relative;\n  top: 5px;\n  right: 7px;\n  text-align: center;\n  line-height: 30px;\n}\n.frame-container iframe {\n  border: none;\n  outline: none;\n  width: 100%;\n  height: 100%;\n  pointer-events: none;\n}\n";const Ve='<div class="frame-container"><div class="action"><div class="action-item close">+</div></div></div>';var De=null;chrome.runtime.onMessage.addListener((function(t,n,o){switch(t.action){case"setup-camera":!function(){if(document.querySelector("#aws-container"))return;if((De=document.createElement("div")).id="aws-container",!De.style)return;var t=De.attachShadow({mode:"open"}),n=document.createElement("style");n.innerHTML=Fe,t.appendChild(n);var o=document.createElement("style");o.innerHTML=".ui-resizable { position: relative; } .ui-resizable-handle { position: absolute; font-size: 0.1px; display: block; -ms-touch-action: none; touch-action: none; } .ui-resizable-disabled .ui-resizable-handle, .ui-resizable-autohide .ui-resizable-handle { display: none; } .ui-resizable-n { cursor: n-resize; height: 7px; width: 100%; top: -5px; left: 0; } .ui-resizable-s { cursor: s-resize; height: 7px; width: 100%; bottom: -5px; left: 0; } .ui-resizable-e { cursor: e-resize; width: 7px; right: -5px; top: 0; height: 100%; } .ui-resizable-w { cursor: w-resize; width: 7px; left: -5px; top: 0; height: 100%; } .ui-resizable-se { cursor: nwse-resize; width: 12px; height: 12px; right: 1px; bottom: 1px; } .ui-resizable-sw { cursor: nesw-resize; width: 9px; height: 9px; left: -5px; bottom: -5px; } .ui-resizable-nw { cursor: nwse-resize; width: 9px; height: 9px; left: -5px; top: -5px; } .ui-resizable-ne { cursor: nesw-resize; width: 9px; height: 9px; right: -5px; top: -5px; }",t.appendChild(o);var i=$(Ve),a=i.find(".action");a.find(".close").on("click",(function(){document.documentElement.removeChild(De),e({action:"close-camera",manually:!0})})),a.appendTo(i);var r=document.createElement("iframe");r.src=chrome.runtime.getURL("/camera.html"),$.Draggable(i[0],{container:document}),i.resizable({handles:"ne,se,sw,nw",aspectRatio:!0}),i.append(r),i.appendTo(t),document.documentElement.appendChild(De)}();break;case"stop-camera":De.parentNode&&document.documentElement.removeChild(De);break;case"insertRecordDiv":$("<div id='aws-record-div'></div>").appendTo(document.body);break;case"removeRecordDiv":$("#aws-record-div").remove()}}));const Ue=".countdown-wrapper {\n  font-family: Arial;\n  position: fixed;\n  left: 0;\n  right: 0;\n  top: 0;\n  bottom: 0;\n  background: rgba(0, 0, 0, 0.7);\n  z-index: 2147483647;\n}\n.countdown-wrapper .center {\n  width: 300px;\n  height: 220px;\n  font-size: 1px;\n  position: absolute;\n  left: 0;\n  right: 0;\n  top: 232px;\n  margin: auto;\n  color: white;\n  text-align: center;\n}\n.countdown-wrapper .sec {\n  line-height: 120px;\n  font-size: 100px;\n}\n.countdown-wrapper .tip {\n  font-size: 30px;\n  margin-bottom: 10px;\n}\n.countdown-wrapper .cancel-btn {\n  font-size: 12px;\n  padding: 4px 10px;\n  border: 1px solid white;\n  border-radius: 4px;\n  cursor: pointer;\n  margin-top: 30px;\n  display: inline-block;\n  line-height: 14px;\n  opacity: 0.6;\n}\n.countdown-wrapper .cancel-btn:hover {\n  opacity: 1;\n}\n";const Ke='<div class="countdown-wrapper"><div class="center"><div class="tip">Recording will start in</div><div class="sec"></div></div></div>';var Je=null;function Ge(){$("#aws-countdown").remove()}chrome.runtime.onMessage.addListener((function(e,t,n){switch(e.action){case"startCountDown":!function(e){if(document.querySelector("#aws-countdown"))return;var t=document.createElement("div");if(t.id="aws-countdown",!t.style)return;var n=t.attachShadow({mode:"open"}),o=document.createElement("style");o.innerHTML=Ue,n.appendChild(o);var i=$(Ke),a=i.find(".sec"),r=e;a.text(r),r--,Je=setInterval((function(){if(0===r)return clearInterval(Je),Je=null,void Ge();a.text(r),r--}),1e3),i.appendTo(n),document.documentElement.appendChild(t)}(e.countdown);break;case"stop-countdown":clearInterval(Je),Je=null,Ge()}}));n(807);const Ze='/*************************************/\n/*********** Veriables ***************/\n/*************************************/\n/*************************************/\n/************** Mixins ***************/\n/*************************************/\n/*************************************/\n/*************** Antd ****************/\n/*************************************/\n.ant-select-arrow {\n  color: rgba(0, 0, 0, 0.5);\n  font-size: 13px;\n}\n.container {\n  font-size: 12px;\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  pointer-events: none;\n  z-index: 2147483641;\n}\n.container * {\n  box-sizing: border-box;\n}\n.toolbar {\n  position: fixed;\n  left: 12px;\n  bottom: 12px;\n  display: flex;\n  background: #32343e;\n  color: white;\n  z-index: 2147483643;\n  pointer-events: all;\n  border-radius: 4px;\n  opacity: 0.8;\n}\n.toolbar .toolbar-action-btn,\n.toolbar .collapse-btn,\n.toolbar .expand-btn,\n.toolbar .toolbar-item,\n.toolbar .sub-menu-item {\n  position: relative;\n}\n.toolbar .toolbar-action-btn:hover::after,\n.toolbar .collapse-btn:hover::after,\n.toolbar .expand-btn:hover::after,\n.toolbar .toolbar-item:hover::after,\n.toolbar .sub-menu-item:hover::after {\n  visibility: visible;\n  opacity: 1;\n}\n.toolbar .toolbar-action-btn[data-tooltip-placement="left"]::after,\n.toolbar .collapse-btn[data-tooltip-placement="left"]::after,\n.toolbar .expand-btn[data-tooltip-placement="left"]::after,\n.toolbar .toolbar-item[data-tooltip-placement="left"]::after,\n.toolbar .sub-menu-item[data-tooltip-placement="left"]::after {\n  left: -6px;\n  transform: translate3d(0, 0, 0);\n}\n.toolbar .toolbar-action-btn::after,\n.toolbar .collapse-btn::after,\n.toolbar .expand-btn::after,\n.toolbar .toolbar-item::after,\n.toolbar .sub-menu-item::after {\n  content: attr(aria-label);\n  font-family: Arial, Helvetica, sans-serif;\n  background: rgba(0, 0, 0, 0.8);\n  color: #fff;\n  padding: 6px 10px;\n  font-size: 12px;\n  line-height: 12px;\n  white-space: nowrap;\n  border-radius: 12px;\n  /* box-shadow: 4px 4px 8px rgba(0, 0, 0, 0.3); */\n  bottom: calc(100% + 8px);\n  left: 50%;\n  position: absolute;\n  visibility: hidden;\n  opacity: 0;\n  z-index: 1000000;\n  pointer-events: none;\n  transition: 0.2s ease;\n  transition-delay: 0s;\n  transform: translate3d(-50%, 0, 0);\n}\n.toolbar.collapsed .bar-area {\n  width: 0;\n  visibility: hidden;\n}\n.toolbar.collapsed .collapse-btn {\n  display: none;\n}\n.toolbar.collapsed .expand-btn {\n  display: block;\n}\n.toolbar .bar-area {\n  display: flex;\n}\n.toolbar:hover {\n  opacity: 1;\n}\n.toolbar.sub-menu {\n  border-radius: 0px 4px 4px 4px;\n}\n.toolbar .sub-menu {\n  height: 40px;\n  min-width: 158px;\n  border-radius: 4px 4px 0 0;\n  background-color: #202126;\n  position: absolute;\n  justify-content: left;\n  left: 0;\n  top: -100%;\n  display: none;\n  padding: 0 14px;\n}\n.toolbar .sub-menu .color-picker {\n  display: flex;\n  width: 60px;\n  margin: 12px 0 0 8px;\n  justify-content: space-between;\n}\n.toolbar .sub-menu .color-picker .color-item {\n  height: 16px;\n  width: 16px;\n  border-radius: 50%;\n  cursor: pointer;\n}\n.toolbar .sub-menu .color-picker .color-item.active {\n  border: 2px solid white;\n}\n.toolbar .sub-menu .color-picker .color-item.blue {\n  background-color: #5794ff;\n}\n.toolbar .sub-menu .color-picker .color-item.red {\n  background-color: #ff0000;\n}\n.toolbar .sub-menu .color-picker .color-item.green {\n  background-color: #47d892;\n}\n.toolbar .sub-menu .sub-menu-item {\n  height: 28px;\n  width: 28px;\n  border-radius: 2px;\n  margin: 6px 6px 0 0;\n  cursor: pointer;\n}\n.toolbar .sub-menu .sub-menu-item:hover {\n  background-color: #32343e;\n}\n.toolbar .sub-menu .sub-menu-item:last-child {\n  margin-right: 0px;\n}\n.toolbar .sub-menu .sub-menu-item.mouse-default b {\n  background-position: -126px 0;\n}\n.toolbar .sub-menu .sub-menu-item.mouse-background b {\n  background-position: -144px 0;\n}\n.toolbar .sub-menu .sub-menu-item.mouse-click b {\n  background-position: -162px 0;\n}\n.toolbar .sub-menu .sub-menu-item.mouse-focus b {\n  background-position: -180px 0;\n}\n.toolbar .sub-menu .sub-menu-item.draw-freeline b {\n  background-position: -198px 0;\n}\n.toolbar .sub-menu .sub-menu-item.draw-rect b {\n  background-position: -216px 0;\n}\n.toolbar .sub-menu .sub-menu-item.draw-arrow b {\n  background-position: -234px 0;\n}\n.toolbar .sub-menu .sub-menu-item.remove-single b {\n  background-position: -252px 0;\n}\n.toolbar .sub-menu .sub-menu-item.remove-all b {\n  background-position: -270px 0;\n}\n.toolbar .sub-menu .sub-menu-item b {\n  height: 18px;\n  width: 18px;\n  margin: 5px 0 0 5px;\n  display: block;\n  background-size: 308px auto;\n  background-image: url(@extension_path/images/video_toolbar/video_toolbar_ic.png);\n}\n@media only screen and (-webkit-min-device-pixel-ratio: 1.5), only screen and (-moz-min-device-pixel-ratio: 1.5), only screen and (-o-min-device-pixel-ratio: 3/2), only screen and (min-device-pixel-ratio: 1.5) {\n  .toolbar .sub-menu .sub-menu-item b {\n    background-image: url(@extension_path/images/video_toolbar/video_toolbar_ic@2x.png);\n  }\n}\n.toolbar .sub-menu .sub-menu-item.active {\n  background-color: black;\n}\n.toolbar .sub-menu .sub-menu-item.active:hover {\n  background-color: black;\n}\n.toolbar .sep {\n  width: 1px;\n  height: 24px;\n  background: #c0c4d0;\n  margin: 8px 8px;\n}\n.toolbar .more-action {\n  margin-right: 8px;\n  display: none;\n}\n.toolbar .toolbar-action-btn {\n  height: 40px;\n  width: 40px;\n  cursor: pointer;\n  position: relative;\n}\n.toolbar .toolbar-action-btn b {\n  height: 18px;\n  width: 18px;\n  margin: 11px 0 0 11px;\n  display: block;\n  background-size: 308px auto;\n  background-image: url(@extension_path/images/video_toolbar/video_toolbar_ic.png);\n}\n@media only screen and (-webkit-min-device-pixel-ratio: 1.5), only screen and (-moz-min-device-pixel-ratio: 1.5), only screen and (-o-min-device-pixel-ratio: 3/2), only screen and (min-device-pixel-ratio: 1.5) {\n  .toolbar .toolbar-action-btn b {\n    background-image: url(@extension_path/images/video_toolbar/video_toolbar_ic@2x.png);\n  }\n}\n.toolbar .toolbar-action-btn:hover {\n  background-color: #272934;\n}\n.toolbar .toolbar-action-btn:hover::after {\n  visibility: visible;\n  opacity: 1;\n}\n.toolbar .toolbar-action-btn.pause {\n  margin-right: 8px;\n}\n.toolbar .toolbar-action-btn.pause b {\n  background-position: -54px 0;\n}\n.toolbar .toolbar-action-btn.resume b {\n  background-position: -72px 0;\n}\n.toolbar .toolbar-action-btn.discard b {\n  background-position: -90px 0;\n}\n.toolbar .toolbar-action-btn.stop b {\n  background-position: -108px 0;\n}\n.annotation-tools {\n  display: flex;\n}\n.annotation-tools.disabled {\n  position: relative;\n}\n.annotation-tools.disabled:hover::after {\n  visibility: visible;\n  opacity: 1;\n}\n.annotation-tools.disabled[data-tooltip-placement="left"]::after {\n  left: -6px;\n  transform: translate3d(0, 0, 0);\n}\n.annotation-tools.disabled::after {\n  content: attr(aria-label);\n  font-family: Arial, Helvetica, sans-serif;\n  background: rgba(0, 0, 0, 0.8);\n  color: #fff;\n  padding: 6px 10px;\n  font-size: 12px;\n  line-height: 12px;\n  white-space: nowrap;\n  border-radius: 12px;\n  /* box-shadow: 4px 4px 8px rgba(0, 0, 0, 0.3); */\n  bottom: calc(100% + 8px);\n  left: 50%;\n  position: absolute;\n  visibility: hidden;\n  opacity: 0;\n  z-index: 1000000;\n  pointer-events: none;\n  transition: 0.2s ease;\n  transition-delay: 0s;\n  transform: translate3d(-50%, 0, 0);\n}\n.toolbar-item {\n  height: 40px;\n  width: 40px;\n  cursor: pointer;\n}\n.toolbar-item.disabled {\n  pointer-events: none;\n}\n.toolbar-item.disabled b {\n  opacity: 0.6;\n}\n.toolbar-item:nth-child(1) {\n  margin-left: 8px;\n}\n.toolbar-item b {\n  height: 18px;\n  width: 18px;\n  margin: 11px 0 0 11px;\n  display: block;\n  background-size: 308px auto;\n  background-image: url(@extension_path/images/video_toolbar/video_toolbar_ic.png);\n}\n@media only screen and (-webkit-min-device-pixel-ratio: 1.5), only screen and (-moz-min-device-pixel-ratio: 1.5), only screen and (-o-min-device-pixel-ratio: 3/2), only screen and (min-device-pixel-ratio: 1.5) {\n  .toolbar-item b {\n    background-image: url(@extension_path/images/video_toolbar/video_toolbar_ic@2x.png);\n  }\n}\n.toolbar-item.draw b {\n  background-position: -18px 0;\n}\n.toolbar-item.remove b {\n  background-position: -36px 0;\n}\n.toolbar-item.active {\n  background-color: #202126;\n}\n.toolbar-item.active:after {\n  display: none;\n}\n.toolbar-item.active:hover {\n  background-color: #202126;\n}\n.toolbar-item:hover {\n  background-color: #272934;\n}\n.collapse-btn {\n  width: 18px;\n  background-color: #212328;\n  border-radius: 0 4px 4px 0;\n  cursor: pointer;\n}\n.collapse-btn b {\n  display: block;\n  height: 10px;\n  width: 10px;\n  margin-left: 4px;\n  margin-top: 15px;\n  background-position: -288px 0;\n  background-size: 308px auto;\n  background-image: url(@extension_path/images/video_toolbar/video_toolbar_ic.png);\n}\n@media only screen and (-webkit-min-device-pixel-ratio: 1.5), only screen and (-moz-min-device-pixel-ratio: 1.5), only screen and (-o-min-device-pixel-ratio: 3/2), only screen and (min-device-pixel-ratio: 1.5) {\n  .collapse-btn b {\n    background-image: url(@extension_path/images/video_toolbar/video_toolbar_ic@2x.png);\n  }\n}\n.expand-btn {\n  display: none;\n  background-color: #212328;\n  border-radius: 0 4px 4px 0;\n  cursor: pointer;\n  width: 36px;\n  border-radius: 4px;\n}\n.expand-btn b {\n  display: block;\n  height: 10px;\n  width: 10px;\n  transform: rotate(180deg);\n  margin-left: 13px;\n  margin-top: 15px;\n  background-position: -288px 0;\n  background-size: 308px auto;\n  background-image: url(@extension_path/images/video_toolbar/video_toolbar_ic.png);\n}\n@media only screen and (-webkit-min-device-pixel-ratio: 1.5), only screen and (-moz-min-device-pixel-ratio: 1.5), only screen and (-o-min-device-pixel-ratio: 3/2), only screen and (min-device-pixel-ratio: 1.5) {\n  .expand-btn b {\n    background-image: url(@extension_path/images/video_toolbar/video_toolbar_ic@2x.png);\n  }\n}\n.mouse-block {\n  height: 48px;\n  width: 48px;\n  border-radius: 50%;\n  position: fixed;\n  left: 0;\n  top: 0;\n  pointer-events: none;\n  background: transparent;\n}\n.mouse-block.bg {\n  background: rgba(237, 241, 6, 0.5);\n}\n.mouse-block .inner-block {\n  height: 100%;\n  width: 100%;\n  border: 2px solid red;\n  transform: scale(0);\n  transition: transform 350ms ease;\n  border-radius: 50%;\n  position: relative;\n  top: -2px;\n  left: -2px;\n  pointer-events: none;\n}\n.mouse-block.mouse-down .inner-block {\n  transform: scale(1);\n  transition: none;\n}\n#draw-canvas {\n  position: fixed;\n  left: 0;\n  top: 0;\n  pointer-events: none;\n  z-index: 2147483642;\n}\n#draw-canvas.freeline {\n  cursor: -webkit-image-set(url("@extension_path/images/video_toolbar/brush_mouse_pen_ic.png") 1x, url("@extension_path/images/video_toolbar/brush_mouse_pen_ic@2x.png") 2x) 3 22, auto;\n}\n#draw-canvas.rect {\n  cursor: -webkit-image-set(url("@extension_path/images/video_toolbar/brush_mouse_box_ic.png") 1x, url("@extension_path/images/video_toolbar/brush_mouse_box_ic@2x.png") 2x) 7 22, auto;\n}\n#draw-canvas.arrow {\n  cursor: -webkit-image-set(url("@extension_path/images/video_toolbar/brush_mouse_arrow_ic.png") 1x, url("@extension_path/images/video_toolbar/brush_mouse_arrow_ic@2x.png") 2x) 7 22, auto;\n}\n#draw-canvas.remove {\n  cursor: -webkit-image-set(url("@extension_path/images/video_toolbar/toolbar_clear_mouse_ic.png") 1x, url("@extension_path/images/video_toolbar/toolbar_clear_mouse_ic@2x.png") 2x) 11 11, auto;\n}\n#draw-canvas.do-remove {\n  cursor: -webkit-image-set(url("@extension_path/images/video_toolbar/toolbar_clear_mouse_hover_ic.png") 1x, url("@extension_path/images/video_toolbar/toolbar_clear_mouse_hover_ic@2x.png") 2x) 11 11, auto;\n}\n#layer-canvas {\n  position: fixed;\n  left: 0;\n  top: 0;\n  pointer-events: none;\n  z-index: 2147483641;\n}\n';const Qe='<div class="container"><div class="toolbar"><div class="bar-area"><div class="annotation-tools" aria-label="" data-tooltip-placement="left"><div class="toolbar-item mouse active" data-mode="mouse" aria-label="$i18n{vtoolbar_mouse_effect_btn}" data-tooltip-placement="left"><b></b></div><div class="toolbar-item draw" data-mode="draw" aria-label="$i18n{vtoolbar_annotation_btn}"><b></b></div><div class="toolbar-item remove" data-mode="remove" aria-label="$i18n{vtoolbar_remove_btn}"><b></b></div></div><div class="sep"></div><div class="toolbar-action-btn pause" data-action="pause" aria-label="$i18n{vtoolbar_pause_btn}"><b></b></div><div class="more-action"><div class="toolbar-action-btn resume" data-action="resume" aria-label="$i18n{vtoolbar_resume_btn}"><b></b></div><div class="toolbar-action-btn discard" data-action="discard" aria-label="$i18n{vtoolbar_discard_btn}"><b></b></div><div class="toolbar-action-btn stop" data-action="stop" aria-label="$i18n{vtoolbar_stop_btn}"><b></b></div></div></div><div class="sub-menu" data-menu="mouse"><div class="sub-menu-item mouse-default active" data-type="default" aria-label="$i18n{vtoolbar_mouse_default_btn}" data-tooltip-placement="left"><b></b></div><div class="sub-menu-item mouse-background" data-type="background" aria-label="$i18n{vtoolbar_highlight_mouse_btn}"><b></b></div><div class="sub-menu-item mouse-click" data-type="click" aria-label="$i18n{vtoolbar_highlight_click_btn}"><b></b></div><div class="sub-menu-item mouse-focus" data-type="focus" aria-label="$i18n{vtoolbar_spotlight_btn}"><b></b></div></div><div class="sub-menu" data-menu="draw"><div class="sub-menu-item draw-freeline active" data-type="freeline" aria-label="$i18n{vtoolbar_freeline_btn}" data-tooltip-placement="left"><b></b></div><div class="sub-menu-item draw-rect" data-type="rect" aria-label="$i18n{vtoolbar_rect_btn}"><b></b></div><div class="sub-menu-item draw-arrow" data-type="arrow" aria-label="$i18n{vtoolbar_arrow_btn}"><b></b></div><div class="color-picker"><div class="color-item red active" data-color="red"></div><div class="color-item blue" data-color="blue"></div><div class="color-item green" data-color="green"></div></div></div><div class="sub-menu" data-menu="remove"><div class="sub-menu-item remove-single active" data-type="remove-single" aria-label="$i18n{vtoolbar_remove_single_btn}" data-tooltip-placement="left"><b></b></div><div class="sub-menu-item remove-all" data-type="remove-all" data-tooltip-placement="left" aria-label="$i18n{vtoolbar_remove_all_btn}"><b></b></div></div><div class="collapse-btn" aria-label="$i18n{vtoolbar_collapse_btn}"><b></b></div><div class="expand-btn" aria-label="$i18n{vtoolbar_expand_btn}"><b></b></div></div><div class="mouse-block"><div class="inner-block"></div></div><canvas id="draw-canvas"></canvas><canvas id="layer-canvas"></canvas></div>';chrome.runtime.onMessage.addListener((function(t,n,o){switch(t.action){case"setup-toolbar":!function(t){if(document.querySelector("#aws-record-toolbar"))return;if((tt=document.createElement("aws-record-toolbar")).id="aws-record-toolbar",!tt.style)return;var n=tt.attachShadow({mode:"open"}),o=document.createElement("style");o.innerHTML=Ze.replace(/@extension_path\//g,chrome.runtime.getURL("")),n.appendChild(o),(nt=$(g(Qe))).appendTo(n);var i=null;(ot=nt.find(".toolbar")).find(".toolbar-item").on("mouseenter",(function(){i&&clearTimeout(i);var e=$(this).attr("data-mode");e===it&&(ot.find(".sub-menu").hide(),ot.find(".sub-menu[data-menu="+e+"]").css("display","flex"),ot.addClass("sub-menu"))})).on("click",(function(){!function(t,n){ot.find(".toolbar-item").removeClass("active"),ot.find(".toolbar-item[data-mode="+t+"]").addClass("active"),ot.find(".sub-menu").hide(),n||(ot.find(".sub-menu[data-menu="+t+"]").css("display","flex"),ot.addClass("sub-menu"));if(it=t,pt.removeClass("bg"),nt.css("background","transparent"),"draw"===t||"remove"===t){rt||function(t,n,o){var i=!1,a=!1,r=!1,s=!1,l=t.getContext("2d"),c=n.getContext("2d"),d=o.getContext("2d");$t(t,l),$t(n,c),$t(o,d),t.addEventListener("mousedown",(function(e){if(e.preventDefault(),1===e.which){if(lt)return r=!0,dt={x:Math.floor(e.offsetX*window.devicePixelRatio),y:Math.floor(e.offsetY*window.devicePixelRatio)},void ct.editStart();if(st)"remove"===it?(Mt(st),St(n),zt(o),l.clearRect(0,0,t.width,t.height)):(a=!0,ct&&(ct.selected=!1,l.clearRect(0,0,t.width,t.height)),st.selected=!0,ct=st,st.drawSelect(l),dt={x:Math.floor(e.offsetX*window.devicePixelRatio),y:Math.floor(e.offsetY*window.devicePixelRatio)},ct.editStart(),St(n));else{if(ct&&(ct.selected=!1,ct=null,St(n),zt(o),l.clearRect(0,0,t.width,t.height)),"remove"===it)return void(s=!0);i=!0,"freeline"===ut?ft=new Lt(l,10,wt):"rect"===ut?(ft=new It(l,12,wt)).points.push({x:Math.floor(e.offsetX*window.devicePixelRatio),y:Math.floor(e.offsetY*window.devicePixelRatio)}):"arrow"===ut?(ft=new Ht(l,8,wt)).points.push({x:Math.floor(e.offsetX*window.devicePixelRatio),y:Math.floor(e.offsetY*window.devicePixelRatio)}):ft=new Nt(l,16),this.color="#f00"}}}),0),t.addEventListener("mouseleave",(function(e){i&&(i=!1,ft.points[1]&&(("freeline"===ft.type||Math.abs(ft.points[1].x-ft.points[0].x)>100||Math.abs(ft.points[1].y-ft.points[0].y)>100)&&mt.push(ft),ft=null),St(n),zt(o),l.clearRect(0,0,t.width,t.height))})),t.addEventListener("mouseup",(function(c){i&&(i=!1,ft.points[1]&&(("freeline"===ft.type||Math.abs(ft.points[1].x-ft.points[0].x)>100||Math.abs(ft.points[1].y-ft.points[0].y)>100)&&mt.push(ft),ft=null),St(n),zt(o),l.clearRect(0,0,t.width,t.height),e({action:"draw-annotation"})),a&&(a=!1,zt(o)),r&&(r=!1,zt(o)),s&&(s=!1),xt=null}),0),t.addEventListener("mousemove",(function(e){if(e.preventDefault(),a&&null!==st){var c={x:Math.floor(e.offsetX*window.devicePixelRatio),y:Math.floor(e.offsetY*window.devicePixelRatio)};return ct.points.forEach((function(e,t){e.x=ct.pre_points[t].x+(c.x-dt.x),e.y=ct.pre_points[t].y+(c.y-dt.y)})),l.clearRect(0,0,t.width,t.height),ct.calcRegionPoints&&ct.calcRegionPoints(),void ct.drawSelect(l)}if(r&&null!==lt&&(ct.resize({x:Math.floor(e.offsetX*window.devicePixelRatio),y:Math.floor(e.offsetY*window.devicePixelRatio)},lt.index),l.clearRect(0,0,t.width,t.height),ct.drawSelect(l)),i){if("rect"!==ut&&"arrow"!==ut){var p=ft.points,m=ft.points.length;0!==m&&p[m-1].x===Math.floor(e.offsetX*window.devicePixelRatio)&&p[m-1].y===Math.floor(e.offsetY*window.devicePixelRatio)||ft.points.push({x:Math.floor(e.offsetX*window.devicePixelRatio),y:Math.floor(e.offsetY*window.devicePixelRatio)})}else ft.points[1]={x:Math.floor(e.offsetX*window.devicePixelRatio),y:Math.floor(e.offsetY*window.devicePixelRatio)},ft.calcRegionPoints();l.clearRect(0,0,t.width,t.height),ft.draw(l)}if(!i&&!a&&!r){var u=function(e){if(ct)for(var t=0;t<ct.edit_regions.length;t++)if(ct.edit_regions[t].isPointIn(e))return ct.edit_regions[t];return null}({x:Math.floor(e.offsetX*window.devicePixelRatio),y:Math.floor(e.offsetY*window.devicePixelRatio)});if(u)lt=u,t.style.cursor="pointer";else{lt=null,t.style.cursor="";var h={x:Math.floor(e.offsetX*window.devicePixelRatio),y:Math.floor(e.offsetY*window.devicePixelRatio)},b=At({x:Math.floor(e.offsetX*window.devicePixelRatio),y:Math.floor(e.offsetY*window.devicePixelRatio)},d);if(!b&&"remove"===it&&s&&xt)for(var g=0;g<10&&!(b=At({x:Math.abs(h.x-xt.x)/10*g+h.x,y:Math.abs(h.y-xt.y)/10*g+h.y},d));g++);if(xt=h,b){if("remove"===it){if(s)return Mt(b),St(n),zt(o),void l.clearRect(0,0,t.width,t.height);$(t).addClass("do-remove")}st=b,"draw"===it&&(t.style.cursor="move")}else st=null,t.style.cursor="",$(t).removeClass("do-remove")}}}),0);var p=null,m=!1;t.addEventListener("wheel",(function(e){!1===m&&(p&&(clearTimeout(p),p=null),m=!0,$(ht).css("pointer-events","none"),$(n).css("pointer-events","none"),p=setTimeout((function(){m=!1,$(ht).css("pointer-events","all"),$(n).css("pointer-events","all")}),250))})),t.addEventListener("scroll",(function(){ct&&(ct.selected=!1,ct=null,St(n),zt(o),l.clearRect(0,0,t.width,t.height))})),window.addEventListener("scroll",(function(e){St(n),zt(o)})),window.addEventListener("resize",(function(){$t(t,l),$t(n,c),St(n),zt(o)})),rt=!0}(ht,bt,gt),"draw"===t?_t(ut):$(ht).removeClass("freeline rect arrow remove").addClass("remove"),!0;var o="all";$(ht).css("pointer-events",o),$(bt).css("pointer-events",o)}else if("mouse"===t){!1;o="none";$(ht).css("pointer-events",o),$(bt).css("pointer-events",o),vt(at)}}($(this).attr("data-mode"))})),ot.on("mouseleave",(function(){i=setTimeout((function(){ot.find(".sub-menu").hide(),ot.removeClass("sub-menu")}),2e3)})).on("mouseenter",(function(){i&&clearTimeout(i)})),ot.find(".collapse-btn").on("click",(function(){$(this).hide(),ot.find(".expand-btn").show(),ot.find(".sub-menu").hide(),ot.removeClass("sub-menu"),ot.addClass("collapsed"),e({action:"collapse"})})),ot.find(".expand-btn").on("click",(function(){$(this).hide(),ot.find(".collapse-btn").show(),ot.find(".sub-menu").hide(),ot.removeClass("sub-menu"),ot.removeClass("collapsed"),e({action:"expand"})})),pt=nt.find(".mouse-block"),ht=nt.find("#draw-canvas")[0],bt=nt.find("#layer-canvas")[0];(gt=document.createElement("canvas")).getContext("2d");ot.find(".sub-menu-item").on("click",(function(e){var t=$(this).attr("data-type");"remove"!==$(this).parents(".sub-menu").attr("data-menu")?"mouse"===$(this).parents(".sub-menu").attr("data-menu")?vt(t,e):_t(t):"remove-all"===t&&(mt=[],St(bt),zt(gt),ht.getContext("2d").clearRect(0,0,ht.width,ht.height))})),ot.find(".color-item").on("click",(function(){!function(e,t){ot.find(".color-item").removeClass("active"),ot.find(".color-item[data-color="+e+"]").addClass("active"),wt=et[e]}($(this).attr("data-color"))})),ot.find(".toolbar-action-btn").on("click",(function(){switch($(this).attr("data-action")){case"pause":e({action:"pause-recording"}),$(this).hide(),ot.find(".more-action").css("display","flex");break;case"resume":e({action:"resume-recording"}),ot.find(".more-action").hide(),ot.find(".toolbar-action-btn.pause").show();break;case"discard":e({action:"discard-recording"});break;case"stop":e({action:"stop-stream"})}})),$(document).on("mousemove",Ct).on("mouseenter",yt).on("mouseleave",kt).on("mousedown",Tt).on("mouseup",Et),document.documentElement.appendChild(tt)}();break;case"pause":ot&&(ot.find(".more-action").css("display","flex"),ot.find(".toolbar-action-btn.pause").hide());break;case"resume":ot&&(ot.find(".more-action").hide(),ot.find(".toolbar-action-btn.pause").show());break;case"remove-toolbar":$("#aws-record-toolbar").remove(),$(document).off("mousemove",Ct).off("mouseenter",yt).off("mouseleave",kt).off("mousedown",Tt).off("mouseup",Et),tt=null,nt=null,ot=null,it="mouse",at="default",rt=!1,!1,st=null,lt=null,ct=null,dt={x:0,y:0},pt=null,mt=[],null,ut="freeline",ht=null,bt=null,gt=null,ft=null,wt="#f00",xt=null}}));var et={red:"#f00",blue:"#5B94FF",green:"#47D897"},tt=null,nt=null,ot=null,it="mouse",at="default",rt=!1,st=null,lt=null,ct=null,dt={x:0,y:0},pt=null,mt=[],ut="freeline",ht=null,bt=null,gt=null,ft=null,wt="#f00",xt=null;function vt(e,t,n){ot.find(".sub-menu-item[data-type="+e+"]").siblings(".sub-menu-item").removeClass("active").end().addClass("active"),pt.removeClass("bg"),nt.css("background","transparent"),at=e,"background"===e?pt.addClass("bg"):"focus"===e&&t&&nt.css("background","radial-gradient(circle at "+t.clientX+"px "+t.clientY+"px, transparent 4%, rgba(0, 0, 0,.6) 6%)")}function _t(e,t){ot.find(".sub-menu-item[data-type="+e+"]").siblings(".sub-menu-item").removeClass("active").end().addClass("active"),ut=e,$(ht).removeClass("freeline rect arrow remove").addClass(e)}function yt(){"mouse"===it&&"background"===at&&pt.addClass("bg")}function kt(){pt.removeClass("bg")}function Ct(e){if("focus"===at&&"mouse"===it&&nt.css("background","radial-gradient(circle at "+e.clientX+"px "+e.clientY+"px, transparent 4%, rgba(0, 0, 0,.6) 6%)"),"background"===at||"click"===at){var t=e.clientX-24+"px",n=e.clientY-24+"px";pt.css("transform","translate3d("+t+","+n+",0)")}}function Tt(){"click"===at&&"mouse"===it&&pt.addClass("mouse-down")}function Et(){"click"===at&&"mouse"===it&&pt.removeClass("mouse-down")}function $t(e,t){var n=document.documentElement.offsetWidth,o=document.documentElement.clientHeight,i=n,a=o;e.style.width=n+"px",e.style.height=o+"px",e.width=i*window.devicePixelRatio,e.height=a*window.devicePixelRatio,t.lineCap="round"}function St(e){var t=e.getContext("2d");t.clearRect(0,0,e.width,e.height),mt.forEach((function(e){e.selected||e.draw(t)}))}function zt(e){var t=e.getContext("2d");t.clearRect(0,0,e.width,e.height),mt.forEach((function(e,n){var o,i,a,r,s=(i=(16711680&(o=n)).toString(16),a=(65280&o).toString(16),r=(255&o).toString(16),"#"+(1===i.length?"0":"")+i+(1===a.length?"0":"")+a+(1===r.length?"0":"")+r);e.draw(t,s)}))}function Mt(e){for(var t=0;t<mt.length;t++)mt[t]===e&&mt.splice(t,1)}function Pt(e,t){var n=function(e){function t(){}return t.prototype=e,new t}(t.prototype);n.constructor=e,e.prototype=n}function Rt(e,t,n){this.penWidth=t,this.color=n,this.points=[],this.pre_points=[],this.ctx=e,this.scrollTop=document.scrollingElement.scrollTop,this.selected=!1}function Lt(e,t,n){Rt.call(this,e,t),this.edit_regions=[],this.region_points=[],this.type="freeline",this.color=n}function It(e,t,n){Rt.call(this,e,t),this.type="rect",this.color=n,this.region_points=[],this.edit_regions=[],this.region_points=Ot(4)}function Ht(e,t,n){Rt.call(this,e,t),this.type="rect",this.color=n,this.region_points=[],this.edit_regions=[],this.region_points=Ot(2)}function Nt(e,t){Rt.call(this,e,t),this.type="eraser"}function Wt(e,t,n,o){var i=e.points.map((function(t){return{x:t.x,y:t.y+(e.scrollTop-document.scrollingElement.scrollTop)*window.devicePixelRatio}})),a=n||e.color,r=e.penWidth;o||(t.lineWidth=r,t.strokeStyle=a);var s=i.length;if(0!==s&&1!==s){t.beginPath(),"freeline"===e.type?t.globalCompositeOperation="source-over":(t.globalCompositeOperation="destination-out",t.lineWidth=64);var l,c,d=null,p=i[0];t.moveTo(p.x,p.y);for(var m=0;m<i.length-1;m++)l=i[m],c=i[m+1],d={x:(l.x+c.x)/2,y:(l.y+c.y)/2},t.quadraticCurveTo(p.x,p.y,d.x,d.y),p=i[m+1];d=i[i.length-1],t.quadraticCurveTo(p.x,p.y,d.x,d.y),t.stroke(),t.closePath()}}function At(e,t,n){var o=t.getImageData(e.x,e.y,1,1).data;if(o[3]<10)return null;var i,a=(i=o)[0]<<16|i[1]<<8|i[2];return mt[a]}function Ot(e){for(var t=[],n=0;n<e;n++)t.push({x:0,y:0});return t}function jt(e,t){return null!=e?Math.round((Math.max(e,20)+10)/2):8}function Bt(e,t,n,o){this.shape=e,this.center=t,this.disabled=!1,this.radius=n,this.index=o}Rt.prototype.editStart=function(){this.pre_points=this.points.map((function(e){return{x:e.x,y:e.y}}))},Rt.prototype.drawSelect=function(e){this.calcRegionPoints&&this.calcRegionPoints(),e.save(),e.strokeStyle="#fff",e.shadowColor="rgba(0, 0, 0, 0.4)",e.shadowOffsetX=2,e.shadowOffsetY=2,e.shadowBlur=4,e.lineWidth=Math.floor(this.penWidth+10),this.draw(e,"#fff",!0),e.restore(),this.draw(e),this.edit_regions&&this.edit_regions.forEach((function(t){return t.draw(e)}))},Pt(Lt,Rt),Lt.prototype.draw=function(e,t,n){Wt(this,e,t,n)},Pt(It,Rt),It.prototype.draw=function(e,t,n){!function(e,t,n,o){var i=e.points.map((function(t){return{x:t.x,y:t.y+(e.scrollTop-document.scrollingElement.scrollTop)*window.devicePixelRatio}})),a=n||e.color,r=o?e.penWidth+6:e.penWidth;t.lineJoin="round",t.globalCompositeOperation="source-over",t.lineWidth=r,t.strokeStyle=a;Math.abs(i[1].x-i[0].x),Math.abs(i[1].y-i[0].y);t.beginPath(),t.moveTo(i[0].x,i[0].y),t.lineTo(i[1].x,i[0].y),t.lineTo(i[1].x,i[1].y),t.lineTo(i[0].x,i[1].y),t.closePath(),t.stroke()}(this,e,t,n)},It.prototype.calcRegionPoints=function(){var e=this,t=this.points,n=this.region_points;n[0]={x:t[0].x,y:t[0].y},n[1]={x:t[1].x,y:t[0].y},n[2]={x:t[0].x,y:t[1].y},n[3]={x:t[1].x,y:t[1].y},this.edit_regions=n.map((function(t,n){return new Bt(e,t,jt(e.penWidth,window.devicePixelRatio),n)}))},It.prototype.resize=function(e,t){var n=this.points,o=this.pre_points;switch(t){case 0:n[0].x=o[0].x+(e.x-dt.x),n[0].y=o[0].y+(e.y-dt.y);break;case 1:n[1].x=o[1].x+(e.x-dt.x),n[0].y=o[0].y+(e.y-dt.y);break;case 2:n[0].x=o[0].x+(e.x-dt.x),n[1].y=o[1].y+(e.y-dt.y);break;case 3:n[1].x=o[1].x+(e.x-dt.x),n[1].y=o[1].y+(e.y-dt.y)}this.calcRegionPoints()},Pt(Ht,Rt),Ht.prototype.draw=function(e,t,n){!function(e,t,n,o){var i=e.points.map((function(t){return{x:t.x,y:t.y+(e.scrollTop-document.scrollingElement.scrollTop)*window.devicePixelRatio}})),a=function(e,t,n,o,i){function a(e,t,n,o,i){var a=[0,0],r=e*Math.cos(n)-t*Math.sin(n),s=e*Math.sin(n)+t*Math.cos(n);if(o){var l=Math.sqrt(r*r+s*s);r=r/l*i,s=s/l*i,a[0]=r,a[1]=s}return a}var r=function(e,t,n,o){return Math.sqrt(Math.pow(e-n,2)+Math.pow(t-o,2))}(e,t,n,o),s=i,l=.52*s,c=Math.atan(l/s),d=Math.sqrt(l*l+s*s),p=a(n-e,o-t,c,!0,d),m=a(n-e,o-t,-c,!0,d),u=a(n-e,o-t,c,!0,d+5),h=a(n-e,o-t,-c,!0,d+5),b=Math.floor(n-p[0]),g=Math.floor(o-p[1]),f=Math.floor(n-m[0]),w=Math.floor(o-m[1]),x=b+(f-b)/4,v=g+(w-g)/4,_=b+(f-b)/4*3,y=g+(w-g)/4*3,k=Math.floor(n-u[0]),C=Math.floor(o-u[1]),T=Math.floor(n-h[0]),E=Math.floor(o-h[1]),$=s/r,S=Math.floor(n-(n-e)*$),z=Math.floor(o-(o-t)*$);return{ax:k,ay:C,bx:T,by:E,cx:S,cy:z,dx:n,dy:o,ex:x,ey:v,fx:_,fy:y}}(i[0].x,i[0].y,i[1].x,i[1].y,64),r=n||e.color;var s=o?e.penWidth+10:e.penWidth;t.lineJoin="round",t.globalCompositeOperation="source-over",t.lineWidth=s,t.lineJoin="round",t.strokeStyle=r,t.beginPath(),t.moveTo(i[0].x,i[0].y),t.lineTo(a.ex,a.ey),t.lineTo(a.ax,a.ay),t.lineTo(a.dx,a.dy),t.lineTo(a.bx,a.by),t.lineTo(a.fx,a.fy),t.closePath(),t.stroke(),t.fillStyle=r,t.fill(),t.beginPath(),t.moveTo(a.cx,a.cy),t.lineTo(a.ax,a.ay),t.lineTo(a.dx,a.dy),t.lineTo(a.bx,a.by),t.lineTo(a.cx,a.cy),t.stroke(),t.closePath()}(this,e,t,n)},Ht.prototype.calcRegionPoints=function(){var e=this,t=this.points,n=this.region_points;n[0]={x:t[0].x,y:t[0].y},n[1]={x:t[1].x,y:t[1].y},this.edit_regions=n.map((function(t,n){return new Bt(e,t,jt(e.penWidth,window.devicePixelRatio),n)}))},Ht.prototype.resize=function(e,t){var n=this.points,o=this.pre_points;switch(t){case 0:n[0].x=o[0].x+(e.x-dt.x),n[0].y=o[0].y+(e.y-dt.y);break;case 1:n[1].x=o[1].x+(e.x-dt.x),n[1].y=o[1].y+(e.y-dt.y)}this.calcRegionPoints()},Pt(Nt,Rt),Nt.prototype.draw=function(e){Wt(this,e)},Bt.prototype.isPointIn=function(e){return!this.disabled&&(t=this.center,n=e,Math.sqrt(Math.pow(t.x-n.x,2)+Math.pow(t.y-n.y,2))<=this.getRadius());var t,n},Bt.prototype.getRadius=function(){return this.radius},Bt.prototype.draw=function(e){e.save(),e.strokeStyle="rgba(0,0,0,0.1)",e.lineWidth=1,e.save(),e.shadowColor="rgba(0,0,0,0.25)",e.shadowBlur=4,e.shadowOffsetX=0,e.shadowOffsetY=2,e.beginPath(),e.arc(this.center.x,this.center.y,this.getRadius(),0,2*Math.PI,!1),e.stroke(),e.closePath(),e.fillStyle="#fff",e.fill(),e.restore();var t=this.center.x-this.getRadius()+2,n=this.center.y-this.getRadius()+2,o=e.createLinearGradient(t,n,t,n+2*(this.getRadius()-2));o.addColorStop(0,"#09f"),o.addColorStop(1,"#07f"),e.fillStyle=o,e.beginPath(),e.arc(this.center.x,this.center.y,this.getRadius()-2,0,2*Math.PI,!1),e.closePath(),e.fill(),e.restore()},window.isContentScriptLoaded=!0,e({action:"check_shortcuts"}),window.addEventListener("load",(function(){e({action:"enable_selected"})}),!1);if(/(.*).awesomescreenshot.com/.test(document.location.hostname)){var qt=chrome.runtime.getManifest().version;$("<div id='aws-chrome-installed' style='display:none !important' data-version='"+qt+"'></div>").appendTo(document.body)}})()})();